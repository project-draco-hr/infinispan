{
  ByteBuffer byteBuffer=UTF_8.encode(CharBuffer.wrap(input));
  try (ByteArrayOutputStream baos=new ByteArrayOutputStream();GZIPOutputStream zip=new GZIPOutputStream(baos);WritableByteChannel out=Channels.newChannel(zip)){
    out.write(byteBuffer);
    zip.finish();
    return baos.toByteArray();
  }
 }
