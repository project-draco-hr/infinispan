{
  return ShrinkWrap.create(WebArchive.class,"test.war").addAsWebInfResource(Deployments.class.getResource("/beans.xml"),"beans.xml").addAsLibrary(ShrinkWrap.create(JavaArchive.class,"infinispan-cdi.jar").addPackage(Infinispan.class.getPackage()).addPackage(AbstractEventBridge.class.getPackage()).addPackage(CacheEventBridge.class.getPackage()).addPackage(CacheManagerEventBridge.class.getPackage()).addPackage(CacheResultInterceptor.class.getPackage()).addPackage(CacheHelper.class.getPackage()).addAsManifestResource(Infinispan.class.getResource("/META-INF/beans.xml"),"beans.xml").addAsManifestResource(Infinispan.class.getResource("/META-INF/services/javax.enterprise.inject.spi.Extension"),"services/javax.enterprise.inject.spi.Extension")).addAsLibraries(DependencyResolvers.use(MavenDependencyResolver.class).loadReposFromPom("pom.xml").artifact("org.jboss.seam.solder:seam-solder").artifact("org.infinispan:infinispan-core").resolveAs(JavaArchive.class));
}
