{
  transport.appendUnsignedByte(REQUEST_MAGIC);
  long messageId=MSG_ID.incrementAndGet();
  transport.writeVLong(messageId);
  transport.writeByteArray(HOTROD_VERSION,operationCode);
  transport.writeVInt(cacheNameBytes.length);
  transport.writeByteArray(cacheNameBytes);
  int flagInt=0;
  for (  Flag flag : flags) {
    flagInt=flag.getFlagInt() | flagInt;
  }
  transport.writeVInt(flagInt);
  return messageId;
}
