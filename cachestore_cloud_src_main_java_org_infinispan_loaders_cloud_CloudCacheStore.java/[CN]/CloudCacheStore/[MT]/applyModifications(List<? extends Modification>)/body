{
  List<Future<?>> futures=new LinkedList<Future<?>>();
  asyncCommandFutures.set(futures);
  try {
    super.applyModifications(modifications);
    if (pollFutures) {
      CacheLoaderException exception=null;
      try {
        futures=asyncCommandFutures.get();
        if (log.isTraceEnabled())         log.tracef("Futures, in order: %s",futures);
        for (        Future<?> f : futures) {
          Object o=f.get();
          if (log.isTraceEnabled())           log.tracef("Future %s returned %s",f,o);
        }
      }
 catch (      InterruptedException ie) {
        Thread.currentThread().interrupt();
      }
catch (      ExecutionException ee) {
        exception=convertToCacheLoaderException("Caught exception in async process",ee.getCause());
      }
      if (exception != null)       throw exception;
    }
  }
  finally {
    asyncCommandFutures.remove();
  }
}
