{
  if (blob == null) {
    return null;
  }
  try {
    Bucket bucket;
    final InputStream content=blob.getPayload().getInput();
    if (cfg.isCompress()) {
      bucket=uncompress(blob,bucketName,content);
    }
 else {
      bucket=(Bucket)marshaller.objectFromInputStream(content);
    }
    if (bucket != null) {
      bucket.setBucketId(bucketName);
    }
    return bucket;
  }
 catch (  ClassNotFoundException e) {
    throw convertToCacheLoaderException("Unable to read blob",e);
  }
catch (  IOException e) {
    throw convertToCacheLoaderException("Class loading issue",e);
  }
}
