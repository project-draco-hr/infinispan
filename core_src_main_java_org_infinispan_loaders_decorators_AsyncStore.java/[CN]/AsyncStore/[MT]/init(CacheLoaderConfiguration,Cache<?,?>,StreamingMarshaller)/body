{
  super.init(configuration,cache,m);
  this.asyncConfiguration=((CacheStoreConfiguration)configuration).async();
  Configuration cacheCfg=cache != null ? cache.getCacheConfiguration() : null;
  concurrencyLevel=cacheCfg != null ? cacheCfg.locking().concurrencyLevel() : 16;
  long cacheStopTimeout=cacheCfg != null ? cacheCfg.transaction().cacheStopTimeout() : 30000;
  Long configuredAsyncStopTimeout=this.asyncConfiguration.shutdownTimeout();
  cacheName=cache != null ? cache.getName() : null;
  if (configuredAsyncStopTimeout >= cacheStopTimeout) {
    shutdownTimeout=Math.round(cacheStopTimeout * 0.90);
    log.asyncStoreShutdownTimeoutTooHigh(configuredAsyncStopTimeout,cacheStopTimeout,shutdownTimeout);
  }
 else {
    shutdownTimeout=configuredAsyncStopTimeout;
  }
  transactions=CollectionFactory.makeConcurrentMap(64,concurrencyLevel);
  this.timeService=cache.getAdvancedCache().getComponentRegistry().getTimeService();
}
