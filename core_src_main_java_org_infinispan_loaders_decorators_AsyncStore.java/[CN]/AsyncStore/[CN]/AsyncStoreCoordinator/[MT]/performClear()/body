{
  state.clear();
  clearAllWriteLock.lock();
  try {
    state.clear();
    if (trace)     log.trace("Performed clear operation");
    int maxRetries=3;
    int attemptNumber=0;
    boolean successful=false;
    do {
      if (attemptNumber > 0 && log.isDebugEnabled())       log.debugf("Retrying clear() due to previous failure. %s attempts left.",maxRetries - attemptNumber);
      successful=applyClear();
      attemptNumber++;
    }
 while (!successful && attemptNumber <= maxRetries);
    if (!successful) {
      log.unableToClearAsyncStore();
    }
  }
  finally {
    clearAllWriteLock.unlock();
  }
}
