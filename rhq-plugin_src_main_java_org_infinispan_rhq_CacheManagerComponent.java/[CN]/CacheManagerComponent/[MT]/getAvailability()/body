{
  boolean trace=log.isTraceEnabled();
  EmsConnection conn=getEmsConnection();
  try {
    conn.refresh();
    EmsBean bean=queryCacheManagerBean(conn);
    if (bean != null) {
      bean.refreshAttributes();
      if (trace)       log.trace("Cache manager %s could be found and attributes where refreshed, so it's up.",bean);
      return AvailabilityType.UP;
    }
    if (trace)     log.trace("Cache manager could not be found, so cache manager is down");
    return AvailabilityType.DOWN;
  }
 catch (  Exception e) {
    if (trace)     log.trace("There was an exception checking availability, so cache manager is down");
    return AvailabilityType.DOWN;
  }
}
