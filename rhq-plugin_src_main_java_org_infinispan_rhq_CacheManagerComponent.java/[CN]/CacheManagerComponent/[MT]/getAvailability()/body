{
  boolean trace=log.isTraceEnabled();
  EmsConnection conn=getEmsConnection();
  try {
    EmsBean bean=queryCacheManagerBean(conn);
    if (bean != null) {
      if (trace)       log.trace("Cache manager " + bean + " could be found, so it's up.");
      return AvailabilityType.UP;
    }
    if (trace)     log.trace("Cache manager could not be found, so cache manager is down");
    return AvailabilityType.DOWN;
  }
 catch (  Exception e) {
    if (trace)     log.trace("There was an exception checking availability, so cache manager is down");
    return AvailabilityType.DOWN;
  }
}
