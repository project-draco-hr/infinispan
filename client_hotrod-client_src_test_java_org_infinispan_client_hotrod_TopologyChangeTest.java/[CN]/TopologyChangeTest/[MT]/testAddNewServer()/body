{
  CacheManager cm3=TestCacheManagerFactory.createClusteredCacheManager(config);
  registerCacheManager(cm3);
  hotRodServer3=TestHelper.startHotRodServer(manager(2));
  manager(2).getCache();
  TestingUtil.blockUntilViewsReceived(10000,true,manager(0),manager(1),manager(2));
  TestingUtil.blockUntilCacheStatusAchieved(manager(0).getCache(),ComponentStatus.RUNNING,10000);
  TestingUtil.blockUntilCacheStatusAchieved(manager(1).getCache(),ComponentStatus.RUNNING,10000);
  TestingUtil.blockUntilCacheStatusAchieved(manager(2).getCache(),ComponentStatus.RUNNING,10000);
  expectTopologyChange(new InetSocketAddress("localhost",hotRodServer3.getPort()),true);
  assertEquals(3,tcpConnectionFactory.getServers().size());
}
