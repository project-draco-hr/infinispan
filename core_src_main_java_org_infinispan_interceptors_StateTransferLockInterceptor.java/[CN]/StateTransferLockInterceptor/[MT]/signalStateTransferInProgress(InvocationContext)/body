{
  int viewId=stateTransferLock.getBlockingCacheViewId();
  if (ctx.isOriginLocal()) {
    throw new StateTransferInProgressException(viewId,"Timed out waiting for the state transfer lock, state transfer in progress for view " + viewId);
  }
 else {
    throw new StateTransferInProgressException(viewId,"State transfer in progress on target node for view " + viewId + ", returning to the originator to allow state transfer to proceed.");
  }
}
