{
  int retries=RETRY_COUNT;
  while (true) {
    int newCacheViewId=-1;
    try {
      return invokeNextInterceptor(ctx,command);
    }
 catch (    StateTransferInProgressException e) {
      newCacheViewId=e.getNewCacheViewId();
      if (retries < 0) {
        throw new TimeoutException("Timed out waiting for the state transfer to end",e);
      }
    }
catch (    SuspectException e) {
      if (retries < 0) {
        throw new TimeoutException("Timed out waiting for the state transfer to end",e);
      }
    }
    stateTransferLock.waitForStateTransferToEnd(ctx,command,newCacheViewId);
  }
}
