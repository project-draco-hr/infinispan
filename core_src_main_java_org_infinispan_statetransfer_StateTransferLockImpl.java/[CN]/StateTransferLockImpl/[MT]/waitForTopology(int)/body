{
  if (topologyId >= expectedTopologyId)   return;
  log.tracef("Waiting for topology %d to be installed, current topology is %d",expectedTopologyId,topologyId);
synchronized (topologyLock) {
    while (topologyId < expectedTopologyId) {
      topologyLock.wait();
    }
  }
}
