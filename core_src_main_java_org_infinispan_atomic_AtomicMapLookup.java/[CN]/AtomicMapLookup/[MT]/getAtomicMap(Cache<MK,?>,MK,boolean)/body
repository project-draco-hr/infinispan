{
  Object value=cache.get(key);
  if (value == null) {
    if (createIfAbsent)     value=AtomicHashMap.newInstance(cache,key);
 else     return null;
  }
  AtomicHashMap<K,V> castValue=(AtomicHashMap<K,V>)value;
  return castValue.getProxy(cache,key,cache.getAdvancedCache().getBatchContainer(),cache.getAdvancedCache().getInvocationContextContainer());
}
