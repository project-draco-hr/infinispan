{
  if (command.hasFlag(Flag.CACHE_MODE_LOCAL) || command.hasFlag(Flag.SKIP_REMOTE_LOOKUP) || command.hasFlag(Flag.IGNORE_RETURN_VALUES)) {
    return false;
  }
  boolean shouldFetchFromRemote=false;
  CacheEntry entry=ctx.lookupEntry(command.getKey());
  if (entry == null || entry.isNull() || entry.isLockPlaceholder()) {
    Object key=command.getKey();
    ConsistentHash ch=stateTransferManager.getCacheTopology().getReadConsistentHash();
    shouldFetchFromRemote=ctx.isOriginLocal() && !ch.isKeyLocalToNode(rpcManager.getAddress(),key) && !dataContainer.containsKey(key);
    if (!shouldFetchFromRemote) {
      log.tracef("Not doing a remote get for key %s since entry is mapped to current node (%s). Owners are %s",key,rpcManager.getAddress(),ch.locateOwners(key));
    }
  }
  return shouldFetchFromRemote;
}
