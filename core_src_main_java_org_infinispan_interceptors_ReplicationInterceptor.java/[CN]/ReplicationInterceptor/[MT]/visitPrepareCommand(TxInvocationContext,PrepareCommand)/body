{
  Object retVal=invokeNextInterceptor(ctx,command);
  if (shouldInvokeRemoteTxCommand(ctx)) {
    stateTransferLock.waitForStateTransferToEnd(ctx,command,-1);
    boolean async=configuration.getCacheMode() == Configuration.CacheMode.REPL_ASYNC;
    rpcManager.broadcastRpcCommand(command,!async,false);
  }
  return retVal;
}
