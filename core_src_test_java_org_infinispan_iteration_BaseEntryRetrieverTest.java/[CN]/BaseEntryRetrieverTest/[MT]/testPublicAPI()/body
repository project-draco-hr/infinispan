{
  Map<Object,String> values=putValuesInCache();
  Iterator<Map.Entry<Object,String>> iter=values.entrySet().iterator();
  Map.Entry<Object,String> excludedEntry=iter.next();
  iter.remove();
  Cache<MagicKey,String> cache=cache(0,CACHE_NAME);
  KeyValueFilter<MagicKey,String> filter=new KeyFilterAsKeyValueFilter<>(new CollectionKeyFilter<>(Collections.singleton(excludedEntry.getKey())));
  try (EntryIterable<MagicKey,String> iterable=cache.getAdvancedCache().filterEntries(filter)){
    Map<MagicKey,String> results=mapFromIterable(iterable);
    assertEquals(values,results);
  }
 }
