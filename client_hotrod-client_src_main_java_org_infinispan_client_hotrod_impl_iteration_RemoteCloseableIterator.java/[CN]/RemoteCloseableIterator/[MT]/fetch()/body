{
  try {
    IterationNextOperation iterationNextOperation=operationsFactory.newIterationNextOperation(iterationId,transport);
    while (nextElements.isEmpty() && !endOfIteration) {
      IterationNextResponse iterationNextResponse=iterationNextOperation.execute();
      short status=iterationNextResponse.getStatus();
      if (HotRodConstants.isInvalidIteration(status)) {
        throw log.errorRetrievingNext(iterationId);
      }
      Entry<byte[],Object[]>[] entries=iterationNextResponse.getEntries();
      if (entries.length == 0) {
        endOfIteration=true;
        break;
      }
      for (      Entry<byte[],Object[]> entry : entries) {
        if (segmentKeyTracker.track(entry.getKey())) {
          nextElements.add(new SimpleEntry<>(unmarshall(entry.getKey(),status),unmarshallValue(entry.getValue(),status)));
        }
      }
      segmentKeyTracker.segmentsFinished(iterationNextResponse.getFinishedSegments());
    }
  }
 catch (  TransportException e) {
    log.warnf(e,"Error reaching the server during iteration");
    restartIteration(segmentKeyTracker.missedSegments());
    fetch();
  }
}
