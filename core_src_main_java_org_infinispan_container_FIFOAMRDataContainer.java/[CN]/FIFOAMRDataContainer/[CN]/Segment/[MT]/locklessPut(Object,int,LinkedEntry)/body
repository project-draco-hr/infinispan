{
  int c=count;
  if (c++ > threshold)   rehash();
  HashEntry[] tab=table;
  int index=hash & (tab.length - 1);
  HashEntry first=tab[index];
  HashEntry e=first;
  while (e != null && (e.hash != hash || !key.equals(e.key)))   e=e.next;
  LinkedEntry oldValue;
  if (e != null) {
    oldValue=e.value;
    e.value=value;
  }
 else {
    oldValue=null;
    tab[index]=new HashEntry(key,hash,first,value);
    count=c;
  }
  return oldValue;
}
