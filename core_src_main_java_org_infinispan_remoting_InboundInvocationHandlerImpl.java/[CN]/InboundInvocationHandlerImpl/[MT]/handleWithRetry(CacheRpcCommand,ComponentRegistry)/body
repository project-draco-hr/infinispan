{
  boolean isStateTransferCommand=cmd instanceof StateTransferControlCommand;
  if (!isStateTransferCommand) {
    if (!hasJoinStarted(componentRegistry)) {
      log.cacheCanNotHandleInvocations(cmd.getCacheName());
      return new ExceptionResponse(new NamedCacheNotFoundException(cmd.getCacheName(),"Cache has not been started on node " + transport.getAddress()));
    }
  }
  return handleWithWaitForBlocks(cmd,componentRegistry);
}
