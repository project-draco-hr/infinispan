{
  InterceptorChain chain=TextProtocolInterceptorChainFactory.getInstance(cache).buildInterceptorChain();
  MemcachedDecoder decoder=new MemcachedDecoder(cache,chain,scheduler);
  NettyReplayingDecoder nettyDecoder=new NettyReplayingDecoder<MemcachedDecoder.State>(decoder,MemcachedDecoder.State.READ_COMMAND);
  decoder.setCheckpointer(nettyDecoder);
  TextCommandHandler commandHandler=new TextCommandHandler(cache,chain);
  server=new NettyServer(commandHandler,nettyDecoder,new InetSocketAddress(host,port),masterThreads,workerThreads,cache.getName());
  server.start();
  log.info("Started Memcached text server bound to {0}:{1}",host,port);
}
