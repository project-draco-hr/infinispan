{
  if (nextVisitFuture != CONTINUE_INVOCATION) {
    CompletableFutures.await(nextVisitFuture);
  }
  while (action == FORK_INVOCATION) {
    invokeForkAndHandlerSync(command);
  }
  return action == SHORT_CIRCUIT;
}
