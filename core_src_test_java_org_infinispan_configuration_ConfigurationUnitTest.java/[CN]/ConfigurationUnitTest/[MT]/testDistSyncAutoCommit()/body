{
  Configuration configuration=new ConfigurationBuilder().clustering().cacheMode(CacheMode.DIST_SYNC).transaction().autoCommit(true).build();
  org.infinispan.config.Configuration legacy=new LegacyConfigurationAdaptor().adapt(configuration);
  Assert.assertTrue(legacy.isTransactionAutoCommit());
  Assert.assertEquals(legacy.getCacheMode().name(),CacheMode.DIST_SYNC.name());
}
