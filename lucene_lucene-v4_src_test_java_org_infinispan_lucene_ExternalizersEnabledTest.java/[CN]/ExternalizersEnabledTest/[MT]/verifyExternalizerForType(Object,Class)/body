{
  ExternalizerTable externalizerTable=TestingUtil.extractExtTable(cacheManager);
  Writer objectWriter=externalizerTable.getObjectWriter(keySampleType);
  Assert.assertEquals(objectWriter.getClass().toString(),"class org.infinispan.marshall.jboss.ExternalizerTable$ForeignExternalizerAdapter","Registered Externalizers should be wrapped by a ForeignExternalizerAdapter");
  Assert.assertEquals("class " + objectWriter.toString(),expectedExcternalizerClass.toString(),"Type of delegate used by the adapter doesn't match expected: " + expectedExcternalizerClass.getClass());
}
