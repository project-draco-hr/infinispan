{
  final boolean trace=log.isTraceEnabled();
  final String indexName=readLockKey.getIndexName();
  final String filename=readLockKey.getFileName();
  FileCacheKey key=new FileCacheKey(indexName,filename);
  if (trace)   log.tracef("deleting metadata: %s",key);
  FileMetadata file=(FileMetadata)metadataCache.withFlags(Flag.SKIP_LOCKING).remove(key);
  if (file != null) {
    for (int i=0; i < file.getNumberOfChunks(); i++) {
      ChunkCacheKey chunkKey=new ChunkCacheKey(indexName,filename,i);
      if (trace)       log.tracef("deleting chunk: %s",chunkKey);
      chunksCache.withFlags(Flag.SKIP_REMOTE_LOOKUP,Flag.SKIP_CACHE_LOAD,Flag.SKIP_LOCKING).removeAsync(chunkKey);
    }
  }
  if (trace)   log.tracef("deleting readlock: %s",readLockKey);
  locksCache.withFlags(Flag.SKIP_REMOTE_LOOKUP,Flag.SKIP_CACHE_LOAD,Flag.SKIP_CACHE_STORE).removeAsync(readLockKey);
}
