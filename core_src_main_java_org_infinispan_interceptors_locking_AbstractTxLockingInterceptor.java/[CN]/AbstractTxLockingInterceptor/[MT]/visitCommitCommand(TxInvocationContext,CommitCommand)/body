{
  boolean releaseLocks=releaseLockOnTxCompletion(ctx);
  try {
    return ctx.shortCircuit(ctx.forkInvocationSync(command));
  }
 catch (  OutdatedTopologyException e) {
    releaseLocks=false;
    throw e;
  }
 finally {
    if (releaseLocks)     lockManager.unlockAll(ctx);
  }
}
