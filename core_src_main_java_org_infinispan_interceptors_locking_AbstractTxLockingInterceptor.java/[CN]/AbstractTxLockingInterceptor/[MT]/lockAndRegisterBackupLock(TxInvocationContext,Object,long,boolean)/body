{
  Object keyToCheck=key instanceof DeltaCompositeKey ? ((DeltaCompositeKey)key).getDeltaAwareValueKey() : key;
  if (cdl.localNodeIsPrimaryOwner(keyToCheck)) {
    lockKeyAndCheckOwnership(ctx,key,lockTimeout,skipLocking);
  }
 else   if (cdl.localNodeIsOwner(keyToCheck)) {
    ctx.getCacheTransaction().addBackupLockForKey(key);
  }
}
