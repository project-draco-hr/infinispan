{
  CacheEntry cacheEntry=getFromContext(ctx,key);
  if (cacheEntry == null) {
    cacheEntry=getFromContainer(key);
    if (useRepeatableRead) {
      MVCCEntry mvccEntry;
      if (cacheEntry == null) {
        mvccEntry=createWrappedEntry(key,null,ctx,null,false,false,false);
      }
 else {
        mvccEntry=createWrappedEntry(key,cacheEntry,ctx,null,false,false,false);
        if (cacheEntry instanceof StateChangingEntry && mvccEntry != null)         mvccEntry.copyStateFlagsFrom((StateChangingEntry)cacheEntry);
      }
      if (mvccEntry != null)       ctx.putLookedUpEntry(key,mvccEntry);
      if (trace) {
        log.tracef("Wrap %s for read. Entry=%s",key,mvccEntry);
      }
      return mvccEntry;
    }
 else     if (cacheEntry != null) {
      ctx.putLookedUpEntry(key,cacheEntry);
    }
    if (trace) {
      log.tracef("Wrap %s for read. Entry=%s",key,cacheEntry);
    }
    return cacheEntry;
  }
  if (trace) {
    log.tracef("Wrap %s for read. Entry=%s",key,cacheEntry);
  }
  return cacheEntry;
}
