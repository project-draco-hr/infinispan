{
  if (genericFieldType instanceof ParameterizedType) {
    ParameterizedType type=(ParameterizedType)genericFieldType;
    Type fieldArgType=type.getActualTypeArguments()[0];
    if (fieldArgType instanceof Class) {
      return (Class)fieldArgType;
    }
    return (Class)((ParameterizedType)fieldArgType).getRawType();
  }
 else   if (genericFieldType instanceof Class) {
    Class genericFieldType1=(Class)genericFieldType;
    if (genericFieldType1.getGenericSuperclass() != null && Collection.class.isAssignableFrom(genericFieldType1.getSuperclass())) {
      Class x=determineCollectionElementTypeParam(genericFieldType1.getGenericSuperclass());
      if (x != null) {
        return x;
      }
    }
    for (    Type t : genericFieldType1.getGenericInterfaces()) {
      if (t instanceof Class && Map.class.isAssignableFrom((Class<?>)t) || t instanceof ParameterizedType && Collection.class.isAssignableFrom((Class)((ParameterizedType)t).getRawType())) {
        Class x=determineCollectionElementTypeParam(t);
        if (x != null) {
          return x;
        }
      }
    }
  }
  return null;
}
