{
  ClassLoader loader=AccessController.doPrivileged(new PrivilegedAction<ClassLoader>(){
    @Override public ClassLoader run(){
      try {
        return Thread.currentThread().getContextClassLoader();
      }
 catch (      Exception e) {
        return null;
      }
    }
  }
);
  if (loader == null && o != null) {
    loader=o.getClass().getClassLoader();
  }
  if (loader == null) {
    loader=BeanManagerController.class.getClassLoader();
  }
  return loader;
}
