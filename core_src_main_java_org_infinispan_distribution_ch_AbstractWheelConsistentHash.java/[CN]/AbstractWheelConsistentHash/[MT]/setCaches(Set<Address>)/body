{
  caches=new LinkedHashSet<Address>(newCaches.size());
  positions=new TreeMap<Integer,Address>();
  addressToHashIds=new HashMap<Address,Integer>();
  for (  Address a : newCaches) {
    int positionIndex=Math.abs(hashFunction.hash(a)) % HASH_SPACE;
    while (positions.containsKey(positionIndex))     positionIndex=positionIndex + 1 % HASH_SPACE;
    positions.put(positionIndex,a);
    if (!addressToHashIds.containsKey(a))     addressToHashIds.put(a,positionIndex);
  }
  caches.addAll(positions.values());
}
