{
  fileChunkMapper=new FileChunkMapper(file,cache);
  this.file=file;
  index=append ? (int)file.length() : 0;
  localIndex=index % getChunkSize();
  currentBuffer=append && !isLastChunkFull() ? fetchLastChunk() : createEmptyChunk();
  numberOfChunksWhenOpened=getLastChunkNumber() + 1;
}
