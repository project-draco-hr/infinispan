{
  this.file=file;
  this.name=file.getPath();
  this.cache=cache;
  this.chunkSize=file.getChunkSize();
  index=append ? (int)file.length() : 0;
  localIndex=index % chunkSize;
  currentBuffer=append && !isLastChunkFull() ? fetchLastChunk() : new byte[chunkSize];
  numberOfChunksWhenOpened=getLastChunkNumber() + 1;
}
