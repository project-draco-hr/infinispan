{
  int remaining=getBytesRemainingInChunk();
  if (remaining == 0) {
    flush();
    local_index=0;
    remaining=chunk_size;
  }
  current_buffer[local_index]=(byte)b;
  local_index++;
  index++;
}
