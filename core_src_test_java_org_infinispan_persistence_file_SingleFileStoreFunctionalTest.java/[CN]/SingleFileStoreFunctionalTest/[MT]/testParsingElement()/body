{
  String config=INFINISPAN_START_TAG_NO_SCHEMA + "<default>\n" + "<eviction maxEntries=\"100\"/>"+ "<persistence passivation=\"false\"> \n"+ "<singleFile maxEntries=\"100\" shared=\"false\" preload=\"true\" location=\"other-location\"/> \n"+ "</persistence>\n"+ "</default>\n"+ INFINISPAN_END_TAG;
  InputStream is=new ByteArrayInputStream(config.getBytes());
  withCacheManager(new CacheManagerCallable(TestCacheManagerFactory.fromStream(is)){
    @Override public void call(){
      Cache<Object,Object> cache=cm.getCache();
      cache.put(1,"v1");
      assertEquals("v1",cache.get(1));
      SingleFileStore store=(SingleFileStore)TestingUtil.getFirstLoader(cache);
      assertEquals("other-location",store.getConfiguration().location());
      assertEquals(100,store.getConfiguration().maxEntries());
    }
  }
);
}
