{
  if (filterAndConvert) {
    K key=entry.getKey();
    C converted=((KeyValueFilterConverter<K,V,C>)filter).filterAndConvert(key,entry.getValue(),entry.getMetadata());
    if (converted != null) {
      entry=entryFactory.create(entry);
      entry.setValue((V)converted);
      return entry;
    }
  }
 else   if (filter == null || filter.accept(entry.getKey(),entry.getValue(),entry.getMetadata())) {
    return entry;
  }
  return null;
}
