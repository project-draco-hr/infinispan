{
  Object o=super.visitReplaceCommand(ctx,command);
  if (!ctx.isInTxScope() && command.isSuccessful())   dm.getTransactionLogger().logIfNeeded(command);
  return o;
}
