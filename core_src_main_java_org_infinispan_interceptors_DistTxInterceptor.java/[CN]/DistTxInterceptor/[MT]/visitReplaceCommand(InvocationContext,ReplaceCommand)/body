{
  if (!ctx.isInTxScope())   dm.getTransactionLogger().beforeCommand(command);
  try {
    return super.visitReplaceCommand(ctx,command);
  }
  finally {
    if (!ctx.isInTxScope())     dm.getTransactionLogger().afterCommand(command);
  }
}
