{
  RecoveryAwareLocalTransaction remove=(RecoveryAwareLocalTransaction)localTransactions.get(tx);
  remove.setCompletionFailed(true);
  if (log.isTraceEnabled())   log.tracef("Marked as completion failed %s",remove);
  localTransactions.remove(tx);
}
