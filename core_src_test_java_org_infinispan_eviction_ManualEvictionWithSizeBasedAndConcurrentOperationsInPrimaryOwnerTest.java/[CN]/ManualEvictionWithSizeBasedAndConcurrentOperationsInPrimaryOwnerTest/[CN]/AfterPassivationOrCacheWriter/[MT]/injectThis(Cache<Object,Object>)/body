{
  InterceptorChain chain=TestingUtil.extractComponent(injectInCache,InterceptorChain.class);
  if (chain.containsInterceptorType(DistCacheWriterInterceptor.class)) {
    injectInCache.getAdvancedCache().addInterceptorAfter(this,DistCacheWriterInterceptor.class);
  }
 else   if (chain.containsInterceptorType(CacheWriterInterceptor.class)) {
    injectInCache.getAdvancedCache().addInterceptorAfter(this,CacheWriterInterceptor.class);
  }
 else   if (chain.containsInterceptorType(PassivationInterceptor.class)) {
    injectInCache.getAdvancedCache().addInterceptorAfter(this,PassivationInterceptor.class);
  }
 else {
    throw new IllegalStateException("Should not happen!");
  }
  return this;
}
