{
  writers.put(typeClass,adapter);
  ExternalizerAdapter prevReader=readers.put(readerIndex,adapter);
  if (prevReader != null && !prevReader.equals(adapter))   throw new CacheConfigurationException(String.format("Duplicate id found! AdvancedExternalizer id=%d for %s is shared by another externalizer (%s). Reader index is %d",adapter.id,typeClass,prevReader.externalizer.getClass().getName(),readerIndex));
  if (log.isTraceEnabled())   log.tracef("Loaded externalizer %s for %s with id %s and reader index %s",adapter.externalizer.getClass().getName(),typeClass,adapter.id,readerIndex);
}
