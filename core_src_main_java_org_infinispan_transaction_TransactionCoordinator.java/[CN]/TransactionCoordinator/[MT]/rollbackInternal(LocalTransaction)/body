{
  if (trace)   log.tracef("rollback transaction %s ",localTransaction.getGlobalTransaction());
  RollbackCommand rollbackCommand=commandsFactory.buildRollbackCommand(localTransaction.getGlobalTransaction());
  LocalTxInvocationContext ctx=icc.createTxInvocationContext();
  ctx.setLocalTransaction(localTransaction);
  invoker.invoke(ctx,rollbackCommand);
  txTable.removeLocalTransaction(localTransaction);
}
