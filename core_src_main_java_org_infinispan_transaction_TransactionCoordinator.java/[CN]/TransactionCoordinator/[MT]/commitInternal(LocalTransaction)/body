{
  LocalTxInvocationContext ctx=icc.createTxInvocationContext();
  ctx.setLocalTransaction(localTransaction);
  CommitCommand commitCommand=commandCreator.createCommitCommand(localTransaction.getGlobalTransaction());
  try {
    invoker.invoke(ctx,commitCommand);
    txTable.removeLocalTransaction(localTransaction);
  }
 catch (  Throwable e) {
    handleCommitFailure(e,localTransaction,false);
  }
}
