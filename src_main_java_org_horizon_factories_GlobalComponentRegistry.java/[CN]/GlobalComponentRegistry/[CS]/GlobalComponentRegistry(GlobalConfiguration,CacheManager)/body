{
  if (configuration == null)   throw new NullPointerException("GlobalConfiguration cannot be null!");
  try {
    globalConfiguration=configuration;
    registerDefaultClassLoader(null);
    registerComponent(this,GlobalComponentRegistry.class);
    registerComponent(cacheManager,CacheManager.class);
    registerComponent(configuration,GlobalConfiguration.class);
    registerComponent(new PlatformMBeanServerGlobalRegistration(),PlatformMBeanServerGlobalRegistration.class);
  }
 catch (  Exception e) {
    throw new CacheException("Unable to construct a GlobalComponentRegistry!",e);
  }
}
