{
  BaseEvictionAlgorithmConfig config=getNewEvictionAlgorithmConfig();
  config.setMaxEntries(0);
  config.setMinEntries(20);
  BlockingQueue<EvictionEvent> eventQueue=new LinkedBlockingQueue<EvictionEvent>();
  eventQueue.put(new EvictionEvent("one",ADD_ENTRY_EVENT));
  eventQueue.put(new EvictionEvent("two",ADD_ENTRY_EVENT));
  EvictionAlgorithm algo=createAndInit(config);
  EvictionAction mockAction=createMock(EvictionAction.class);
  algo.setEvictionAction(mockAction);
  EasyMock.expect(mockAction.evict(eq("one"))).andReturn(true).once();
  EasyMock.expect(mockAction.evict(eq("two"))).andReturn(true).once();
  EasyMock.replay(mockAction);
  algo.process(eventQueue);
  EasyMock.verify(mockAction);
}
