{
synchronized (this) {
    if (currentTopology == null)     return;
    boolean actualLeaver=removeMember(leaver);
    if (!actualLeaver)     return;
    availabilityStrategy.onGracefulLeave(this,leaver);
    boolean rebalanceCompleted=updateRebalanceMembers();
    if (rebalanceCompleted) {
      endRebalance();
    }
  }
}
