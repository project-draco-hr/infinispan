{
  if (key == null) {
    throw new IllegalArgumentException("Not supporting null keys");
  }
  if (key.startsWith("*|")) {
    return new FileListCacheKey(key.substring(2));
  }
 else {
    String[] split=singlePipePattern.split(key);
    if (split.length != 3) {
      throw new IllegalArgumentException("Unexpected format of key in String form: " + key);
    }
 else {
      if ("M".equals(split[1])) {
        return new FileCacheKey(split[2],split[0]);
      }
 else       if ("RL".equals(split[1])) {
        return new FileReadLockKey(split[2],split[0]);
      }
 else {
        try {
          int parsedInt=Integer.parseInt(split[1]);
          return new ChunkCacheKey(split[2],split[0],parsedInt);
        }
 catch (        NumberFormatException nfe) {
          throw new IllegalArgumentException("Unexpected format of key in String form: " + key,nfe);
        }
      }
    }
  }
}
