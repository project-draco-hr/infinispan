{
  if (trace) {
    log.tracef("Adding outbound transfer of segments %s to %s",outboundTransfer.getSegments(),outboundTransfer.getDestination());
  }
synchronized (transfersByDestination) {
    List<OutboundTransferTask> transfers=transfersByDestination.get(outboundTransfer.getDestination());
    if (transfers == null) {
      transfers=new ArrayList<OutboundTransferTask>();
      transfersByDestination.put(outboundTransfer.getDestination(),transfers);
    }
    transfers.add(outboundTransfer);
  }
}
