{
  Set<String> sourceKeys;
  try {
    S3Bucket source=new S3Bucket(sourceBucket);
    source=s3Service.getBucket(sourceBucket).get(config.getRequestTimeout(),TimeUnit.MILLISECONDS);
    sourceKeys=keysInBucket(source);
    for (    String key : sourceKeys) {
      try {
        s3Service.copyObject(sourceBucket,key,destinationBucket,key).get(config.getRequestTimeout(),TimeUnit.MILLISECONDS);
      }
 catch (      Exception ex) {
        throw convertToS3ConnectionException("Exception while copying key " + key + " from bucket "+ sourceBucket,ex);
      }
    }
  }
 catch (  Exception ex) {
    throw convertToS3ConnectionException("Cannot access bucket " + sourceBucket,ex);
  }
}
