{
  log.debugf("Updating cluster-wide consistent hash for cache %s, topology id = %d, currentCH = %s, pendingCH = %s",cacheName,topologyId,currentCH,pendingCH);
  ReplicableCommand command=new CacheTopologyControlCommand(cacheName,CacheTopologyControlCommand.Type.CH_UPDATE,transport.getAddress(),topologyId,currentCH,pendingCH);
  executeOnClusterSync(command,getGlobalTimeout());
  RebalanceInfo rebalanceInfo=rebalanceStatusMap.get(cacheName);
  if (rebalanceInfo != null) {
    List<Address> members=pendingCH != null ? pendingCH.getMembers() : currentCH.getMembers();
    if (rebalanceInfo.updateMembers(members)) {
      onRebalanceCompleted(cacheName,topologyId,rebalanceInfo);
    }
  }
}
