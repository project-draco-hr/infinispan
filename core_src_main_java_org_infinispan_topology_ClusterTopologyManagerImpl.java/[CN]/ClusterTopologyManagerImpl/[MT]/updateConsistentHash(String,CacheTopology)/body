{
  log.debugf("Updating cluster-wide consistent hash for cache %s, topology = %s",cacheName,cacheTopology);
  ReplicableCommand command=new CacheTopologyControlCommand(cacheName,CacheTopologyControlCommand.Type.CH_UPDATE,transport.getAddress(),cacheTopology);
  executeOnClusterSync(command,getGlobalTimeout());
  RebalanceInfo rebalanceInfo=rebalanceStatusMap.get(cacheName);
  if (rebalanceInfo != null) {
    List<Address> members=cacheTopology.getMembers();
    if (rebalanceInfo.updateMembers(members)) {
      onRebalanceCompleted(cacheName,cacheTopology.getTopologyId(),rebalanceInfo);
    }
  }
}
