{
  EntityIndexBinding entityIndexBinding=searchFactory.getIndexBinding(entityClass);
  if (entityIndexBinding == null) {
    return false;
  }
  TypeMetadata typeMetadata=entityIndexBinding.getDocumentBuilder().getMetadata();
  for (int i=0; i < propertyPath.length - 1; i++) {
    typeMetadata=getEmbeddedTypeMetadata(typeMetadata,propertyPath[i]);
    if (typeMetadata == null) {
      return false;
    }
  }
  String last=propertyPath[propertyPath.length - 1];
  PropertyMetadata propertyMetadata=typeMetadata.getPropertyMetadataForProperty(last);
  if (propertyMetadata == null) {
    return false;
  }
  for (  DocumentFieldMetadata dfm : propertyMetadata.getFieldMetadataSet()) {
    if (dfm.getStore() == Store.NO) {
      return false;
    }
  }
  return true;
}
