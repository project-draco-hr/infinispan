Class<A> annotationClass
Function<A,Mode[]> modeRetriever
