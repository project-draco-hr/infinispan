{
  Map<? extends K,? extends V> copy=ObjectDuplicator.duplicateMap(map);
  if (copy == null)   copy=attemptCopyConstructor(map,Map.class);
  if (copy == null)   copy=new HashMap<K,V>(map);
  return new ImmutableMapWrapper<K,V>(copy);
}
