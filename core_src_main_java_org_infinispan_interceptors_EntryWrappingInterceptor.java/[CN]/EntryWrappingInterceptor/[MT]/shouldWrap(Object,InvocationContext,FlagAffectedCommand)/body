{
  if (command.hasFlag(Flag.SKIP_OWNERSHIP_CHECK)) {
    if (trace)     log.tracef("Skipping ownership check and wrapping key %s",toStr(key));
    return true;
  }
  boolean result;
  if (cacheConfiguration.transaction().transactionMode().isTransactional()) {
    result=true;
  }
 else {
    if (isUsingLockDelegation) {
      result=cdl.localNodeIsPrimaryOwner(key) || (cdl.localNodeIsOwner(key) && !ctx.isOriginLocal());
    }
 else {
      result=cdl.localNodeIsOwner(key);
    }
  }
  if (trace)   log.tracef("Wrapping entry '%s'? %s",toStr(key),result);
  return result;
}
