{
  FilterEvalContext filterEvalContext=filterContexts.get(filterSubscription);
  if (filterEvalContext == null) {
    Object[] projection=filterSubscription.getProjection() != null ? new Object[filterSubscription.getProjection().length] : null;
    Comparable[] sortProjection=filterSubscription.getSortFields() != null ? new Comparable[filterSubscription.getSortFields().length] : null;
    filterEvalContext=new FilterEvalContext(filterSubscription.getBETree(),this,projection,sortProjection);
    filterContexts.put(filterSubscription,filterEvalContext);
  }
  return filterEvalContext;
}
