{
  try {
    log.debug("fromStream()");
    int count=0;
    while (true) {
      count++;
      InternalCacheEntry entry=(InternalCacheEntry)getMarshaller().objectFromObjectStream(in);
      if (entry == null)       break;
      store(entry);
    }
    log.debug("read " + count + " entries");
  }
 catch (  IOException e) {
    throw new CacheLoaderException(e);
  }
catch (  ClassNotFoundException e) {
    throw new CacheLoaderException(e);
  }
catch (  InterruptedException ie) {
    if (log.isTraceEnabled())     log.trace("Interrupted while reading from stream");
    Thread.currentThread().interrupt();
  }
}
