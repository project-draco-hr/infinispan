{
  Reply reply;
  if (time > 0) {
    DeleteDelayedEntry d=new DeleteDelayedEntry(key,time);
    queue.offer(d);
    reply=Reply.DELETED;
  }
 else {
    Object prev=cache.remove(key);
    reply=reply(prev);
  }
  ch.write(wrappedBuffer(wrappedBuffer(reply.bytes()),wrappedBuffer(CRLF)));
  return null;
}
