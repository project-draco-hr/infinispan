{
  boolean added=false;
  CacheEntryListener<? super K,? super V> listener=reg.getCacheEntryListener();
  if (listener instanceof CacheEntryCreatedListener) {
    if (!ifAbsent || !containsListener(listener,createdListeners))     added=createdListeners.add(reg);
  }
  if (listener instanceof CacheEntryUpdatedListener) {
    if (!ifAbsent || !containsListener(listener,updatedListeners))     added=updatedListeners.add(reg);
  }
  if (listener instanceof CacheEntryRemovedListener) {
    if (!ifAbsent || !containsListener(listener,removedListeners))     added=removedListeners.add(reg);
  }
  if (listener instanceof CacheEntryReadListener) {
    if (!ifAbsent || !containsListener(listener,readListeners))     added=readListeners.add(reg);
  }
  return added;
}
