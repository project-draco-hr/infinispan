{
  TransactionalSharedLuceneLock lock;
  if (DEF_LOCK_NAME.equals(lockName)) {
    lock=defLock;
  }
 else {
    lock=new TransactionalSharedLuceneLock(cache,indexName,lockName,tm);
  }
  if (log.isTraceEnabled()) {
    log.trace("Lock prepared, not acquired: {0} for index {1}",lockName,indexName);
  }
  return lock;
}
