{
  BeanManager bm=BeanManagerProvider.getInstance().getBeanManager();
  ContextInputCache.set(inputCache);
  Class<Mapper<KIn,VIn,KOut,VOut>> clazz=(Class<Mapper<KIn,VIn,KOut,VOut>>)mapper.getClass();
  AnnotatedType<Mapper<KIn,VIn,KOut,VOut>> type=bm.createAnnotatedType(clazz);
  InjectionTarget<Mapper<KIn,VIn,KOut,VOut>> it=bm.createInjectionTarget(type);
  CreationalContext<Mapper<KIn,VIn,KOut,VOut>> ctx=bm.createCreationalContext(null);
  it.inject(mapper,ctx);
  it.postConstruct(mapper);
}
