{
  if (shouldSkipCacheLoader(cmd) || cmd.hasFlag(Flag.IGNORE_RETURN_VALUES) || !canLoad(key)) {
    return null;
  }
  if (!isRetrieval && !ctx.isOriginLocal() && !forceLoad(key,cmd.getFlags()))   return null;
  CacheEntry e=ctx.lookupEntry(key);
  if (!shouldAttemptLookup(e)) {
    return null;
  }
  final boolean isDelta=cmd instanceof ApplyDeltaCommand;
  try {
    while (!cdl.lock(key,false))     ;
    InternalCacheEntry ice=dataContainer.get(key);
    if (ice != null) {
      wrapInternalCacheEntry(ctx,key,cmd,ice,isDelta,false);
      return null;
    }
    MarshalledEntry loaded=persistenceManager.loadFromAllStores(key,ctx);
    if (getLog().isTraceEnabled()) {
      getLog().tracef("Loaded %s for key %s from persistence.",loaded,key);
    }
    if (loaded == null) {
      return Boolean.FALSE;
    }
    InternalMetadata metadata=loaded.getMetadata();
    if (metadata != null && metadata.isExpired(timeService.wallClockTime())) {
      return Boolean.FALSE;
    }
    ice=iceFactory.create(loaded.getKey(),loaded.getValue(),metadata);
    CacheEntry wrappedEntry=wrapInternalCacheEntry(ctx,key,cmd,ice,isDelta,true);
    recordLoadedEntry(ctx,key,wrappedEntry,ice,cmd,isDelta);
    afterSuccessfullyLoaded(wrappedEntry);
    return Boolean.TRUE;
  }
  finally {
    cdl.unlock(key);
  }
}
