{
  if (shouldSkipCacheLoader(cmd) || cmd.hasFlag(Flag.IGNORE_RETURN_VALUES) || !canLoad(key)) {
    return null;
  }
  if (!isRetrieval && !ctx.isOriginLocal() && !forceLoad(key,cmd.getFlags()))   return null;
  CacheEntry e=ctx.lookupEntry(key);
  if (e == null || e.isNull() || e.getValue() == null) {
    MarshalledEntry loaded=persistenceManager.loadFromAllStores(key);
    if (loaded == null)     return Boolean.FALSE;
    InternalMetadata metadata=loaded.getMetadata();
    if (metadata != null && metadata.isExpired(timeService.wallClockTime())) {
      return Boolean.FALSE;
    }
    InternalCacheEntry ice=iceFactory.create(loaded.getKey(),loaded.getValue(),metadata);
    CacheEntry wrappedEntry;
    if (cmd instanceof ApplyDeltaCommand) {
      ctx.putLookedUpEntry(key,ice);
      wrappedEntry=entryFactory.wrapEntryForDelta(ctx,key,((ApplyDeltaCommand)cmd).getDelta());
    }
 else {
      wrappedEntry=entryFactory.wrapEntryForPut(ctx,key,ice,false,cmd,false);
    }
    recordLoadedEntry(ctx,key,wrappedEntry,ice,cmd);
    return Boolean.TRUE;
  }
 else {
    return null;
  }
}
