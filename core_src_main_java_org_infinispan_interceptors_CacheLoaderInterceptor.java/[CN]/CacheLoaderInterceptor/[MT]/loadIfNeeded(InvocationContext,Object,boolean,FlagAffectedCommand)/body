{
  if (shouldSkipCacheLoader(cmd) || cmd.hasFlag(Flag.IGNORE_RETURN_VALUES) || !canLoad(key)) {
    return null;
  }
  if (!isRetrieval && !ctx.isOriginLocal() && !forceLoad(key,cmd.getFlags()))   return null;
  CacheEntry e=ctx.lookupEntry(key);
  if (!shouldAttemptLookup(e)) {
    return null;
  }
  final boolean isDelta=cmd instanceof ApplyDeltaCommand;
  final AtomicReference<Boolean> isLoaded=new AtomicReference<>();
  InternalCacheEntry entry=PersistenceUtil.loadAndStoreInDataContainer(dataContainer,persistenceManager,key,ctx,timeService,isLoaded);
  if (entry != null) {
    CacheEntry wrappedEntry=wrapInternalCacheEntry(ctx,key,cmd,entry,isDelta);
    if (isLoaded.get() == Boolean.TRUE) {
      recordLoadedEntry(ctx,key,wrappedEntry,entry,cmd);
    }
  }
  return isLoaded.get();
}
