{
  boolean entryExists=loadedEntry != null;
  if (log.isTraceEnabled()) {
    log.trace("Entry exists in loader? " + entryExists);
  }
  if (getStatisticsEnabled()) {
    if (entryExists) {
      cacheLoads.incrementAndGet();
    }
 else {
      cacheMisses.incrementAndGet();
    }
  }
  if (entryExists) {
    final Object value=loadedEntry.getValue();
    sendNotification(key,value,true,ctx);
    entry.setValue(value);
    entry.setLifespan(loadedEntry.getLifespan());
    entry.setMaxIdle(loadedEntry.getMaxIdle());
    entry.setValid(true);
    sendNotification(key,value,false,ctx);
  }
  return entry;
}
