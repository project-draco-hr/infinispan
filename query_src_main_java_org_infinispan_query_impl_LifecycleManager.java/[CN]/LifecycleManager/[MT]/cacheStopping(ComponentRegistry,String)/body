{
  SearchFactoryIntegrator searchFactoryImplementor=cr.getComponent(SearchFactoryIntegrator.class);
  if (searchFactoryImplementor != null && searchFactoryImplementor != REMOVED_REGISTRY_COMPONENT) {
    searchFactoriesToShutdown.put(cacheName,searchFactoryImplementor);
    cr.registerComponent(REMOVED_REGISTRY_COMPONENT,SearchFactoryIntegrator.class);
  }
  if (mbeanServer != null && statsObjName != null) {
    try {
      JmxUtil.unregisterMBean(statsObjName,mbeanServer);
    }
 catch (    Exception e) {
      throw new CacheException("Failure unregistering query module mbeans",e);
    }
  }
}
