{
  Set<CacheTransaction> result=new HashSet<CacheTransaction>();
  for (  CacheTransaction ct : localTransactions.values()) {
    int id=ct.getViewId();
    if (id != CACHE_STOPPED_VIEW_ID && id < viewId)     result.add(ct);
  }
  for (  CacheTransaction ct : remoteTransactions.values()) {
    int id=ct.getViewId();
    if (id != CACHE_STOPPED_VIEW_ID && id < viewId)     result.add(ct);
  }
  return result;
}
