{
  checkServerManagementAvailable();
  withManagementClient(host,port,new ManagementRunnable(){
    @Override public void run(    ModelControllerClient client) throws Exception {
      final ModelNode composite=new ModelNode();
      composite.get(OP).set(COMPOSITE);
      composite.get(OP_ADDR).setEmptyList();
      final ModelNode steps=composite.get(STEPS);
      final ModelNode configAddOp=steps.add();
      configAddOp.get(OP).set(ADD);
      String cacheContainer=getHotRodCacheContainer(client);
      configAddOp.get(OP_ADDR).set(PathAddress.pathAddress(SUBSYSTEM,INFINISPAN_SUBSYSTEM_NAME).append("cache-container",cacheContainer).append("configurations","CONFIGURATIONS").append("local-cache-configuration",cacheName).toModelNode());
      configAddOp.get("template").set(false);
      final ModelNode cacheAddOp=steps.add();
      cacheAddOp.get(OP).set(ADD);
      cacheAddOp.get(OP_ADDR).set(PathAddress.pathAddress(SUBSYSTEM,INFINISPAN_SUBSYSTEM_NAME).append("cache-container",cacheContainer).append("local-cache",cacheName).toModelNode());
      cacheAddOp.get("configuration").set(cacheName);
      ModelNode resp=client.execute(composite);
      if (!SUCCESS.equals(resp.get(OUTCOME).asString())) {
        System.err.println(resp);
        throw new IllegalArgumentException(resp.asString());
      }
    }
  }
);
}
