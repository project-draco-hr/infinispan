{
  List<Address> result=new ArrayList<Address>();
  for (  Address addr : oldConsistentHash.getCaches()) {
    List<Address> backups=oldConsistentHash.getBackupsForNode(addr,getReplCount());
    log.trace("Backups for {0} are {1}",addr,backups);
    if (addr.equals(leaver)) {
      if (backups.size() > 1) {
        Address mainBackup=backups.get(1);
        result.add(mainBackup);
        log.trace("Leaver's ({0}) main backup({1}) is looking for another backup as well.",leaver,mainBackup);
      }
    }
 else     if (backups.contains(leaver)) {
      log.trace("{0} is looking for a new backup to replace {1}",addr,leaver);
      result.add(addr);
    }
  }
  log.trace("Nodes that need new backups are: {0}",result);
  return result;
}
