{
  try {
    if (!startLatch.await(5,TimeUnit.MINUTES)) {
      log.distributionManagerNotStarted();
      return null;
    }
  }
 catch (  InterruptedException e) {
    Thread.currentThread().interrupt();
  }
  if (joiner.compareAndSet(null,a)) {
    if (trace)     log.tracef("Allowing %s to join",a);
    return new HashSet<Address>(consistentHash.getCaches());
  }
 else {
    if (trace)     log.tracef("Not alowing %s to join since there is a join already in progress for node %s",a,joiner.get());
    return null;
  }
}
