{
  if (trace)   log.trace("view change received. Needs to re-join? " + e.isNeedsToRejoin());
  boolean started;
  if (e.isNeedsToRejoin()) {
    try {
      joinComplete=false;
      join();
    }
 catch (    Exception e1) {
      log.fatal("Unable to recover from a partition merge!",e1);
    }
  }
 else {
    try {
      started=startLatch.await(5,TimeUnit.MINUTES);
      if (started)       rehash(e.getNewMembers(),e.getOldMembers());
 else       log.warn("DistributionManager not started after waiting up to 5 minutes!  Not rehashing!");
    }
 catch (    InterruptedException ie) {
      log.warn("View change interrupted; not rehashing!");
    }
  }
}
