{
  if (command.getCommandId() == ClusteredGetCommand.COMMAND_ID) {
    ClusteredGetCommand clusteredGet=(ClusteredGetCommand)command;
    if (distributionManager.isAffectedByRehash(clusteredGet.getKey()))     return UnsureResponse.INSTANCE;
    return returnValue == null ? null : new SuccessfulResponse(returnValue);
  }
 else   if (command instanceof SingleRpcCommand) {
    SingleRpcCommand src=(SingleRpcCommand)command;
    ReplicableCommand c=src.getCommand();
    if (c instanceof WriteCommand) {
      if (((WriteCommand)c).isSuccessful())       return new SuccessfulResponse(returnValue);
 else       return UnsuccessfulResponse.INSTANCE;
    }
  }
  return new SuccessfulResponse(returnValue);
}
