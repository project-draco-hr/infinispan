{
  ComponentRegistry registry=cache.getComponentRegistry();
  CommandsFactory factory=registry.getComponent(CommandsFactory.class);
  ReduceCommand<KOut,VOut> reduceCommand=factory.buildReduceCommand(taskId,destinationCache,r,keys);
  reduceCommand.setEmitCompositeIntermediateKeys(emitCompositeIntermediateKeys);
  reduceCommand.setResultCacheName(resultCacheName);
  return reduceCommand;
}
