{
  if (cache.getStatus() != ComponentStatus.RUNNING)   throw log.invalidCacheState(cache.getStatus().toString());
  if (cache.getRpcManager() != null && cache.getDistributionManager() == null) {
    throw log.requireDistOrReplCache(cache.getCacheConfiguration().clustering().cacheModeString());
  }
}
