{
  ComponentRegistry registry=SecurityActions.getCacheComponentRegistry(cache);
  CommandsFactory factory=registry.getComponent(CommandsFactory.class);
  MapCombineCommand<KIn,VIn,KOut,VOut> c=factory.buildMapCombineCommand(taskId,m,r,keys);
  c.setReducePhaseDistributed(reducePhaseDistributed);
  c.setEmitCompositeIntermediateKeys(emitCompositeIntermediateKeys);
  c.setIntermediateCacheName(intermediateCacheName);
  c.setMaxCollectorSize(MAX_COLLECTOR_SIZE);
  return c;
}
