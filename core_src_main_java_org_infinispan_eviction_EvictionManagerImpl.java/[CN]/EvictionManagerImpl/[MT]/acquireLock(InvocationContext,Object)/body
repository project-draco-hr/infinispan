{
  if (lockManager.lockAndRecord(key,ctx)) {
    return true;
  }
 else {
    Object owner=lockManager.getOwner(key);
    if (key instanceof MarshalledValue) {
      key=((MarshalledValue)key).get();
    }
    throw new TimeoutException("Unable to acquire lock after [" + configuration.getLockAcquisitionTimeout() + "] on key ["+ key+ "] for requestor ["+ ctx.getLockOwner()+ "]! Lock held by ["+ owner+ "]");
  }
}
