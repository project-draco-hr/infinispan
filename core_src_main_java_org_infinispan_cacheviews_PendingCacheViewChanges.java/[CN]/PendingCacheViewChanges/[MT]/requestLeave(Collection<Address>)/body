{
synchronized (lock) {
    log.tracef("%s: Nodes %s are leaving",cacheName,leavers);
    Set<Address> leavers2=new HashSet<Address>(leavers);
    joiners.removeAll(leavers2);
    log.tracef("%s: After pruning nodes that have joined but have never installed a view, leavers are %s",cacheName,leavers2);
    this.leavers.addAll(leavers2);
    return leavers2;
  }
}
