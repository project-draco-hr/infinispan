{
synchronized (this) {
    Throwable error=null;
    try {
      future.get();
    }
 catch (    Throwable e) {
      error=e;
    }
    remaining.countDown();
    if (remaining.getCount() == 0) {
      if (error != null) {
        notifyException(error);
      }
 else {
        notifyDone(null);
      }
      setFuture(new NoOpFuture<Void>(null));
    }
  }
}
