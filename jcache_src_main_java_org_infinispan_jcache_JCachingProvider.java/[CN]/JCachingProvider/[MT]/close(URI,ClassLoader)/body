{
synchronized (cacheManagers) {
    if (uri != null) {
      Map<URI,JCacheManager> map=cacheManagers.get(classLoader);
      JCacheManager cacheManager=map.remove(uri);
      if (map.isEmpty())       cacheManagers.remove(classLoader);
      if (cacheManager != null)       cacheManager.close();
    }
 else {
      Map<URI,JCacheManager> cacheManagersToClose=cacheManagers.remove(classLoader);
      if (cacheManagersToClose != null)       close(cacheManagersToClose);
    }
  }
}
