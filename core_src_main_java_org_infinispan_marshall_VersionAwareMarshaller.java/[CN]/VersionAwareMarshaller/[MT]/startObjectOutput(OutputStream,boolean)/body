{
  ObjectOutput out=defaultMarshaller.startObjectOutput(os,isReentrant);
  try {
    out.writeShort(VERSION_500);
    if (trace)     log.tracef("Wrote version %s",VERSION_500);
  }
 catch (  Exception e) {
    finishObjectOutput(out);
    log.unableToReadVersionId();
    throw new IOException("Unable to read version id from first two bytes of stream : " + e.getMessage());
  }
  return out;
}
