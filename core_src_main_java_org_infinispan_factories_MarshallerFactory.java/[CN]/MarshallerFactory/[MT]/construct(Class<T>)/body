{
  Object comp;
  Marshaller configMarshaller=globalConfiguration.serialization().marshaller();
  boolean isVersionAwareMarshaller=configMarshaller instanceof VersionAwareMarshaller;
  if (isVersionAwareMarshaller) {
    comp=new GlobalMarshaller((VersionAwareMarshaller)configMarshaller);
  }
 else {
    comp=configMarshaller;
  }
  try {
    return componentType.cast(comp);
  }
 catch (  Exception e) {
    throw new CacheException("Problems casting bootstrap component " + comp.getClass() + " to type "+ componentType,e);
  }
}
