{
  this.globalConfiguration=globalConfiguration == null ? new GlobalConfiguration() : globalConfiguration.clone();
  this.globalConfiguration.accept(new ConfigurationValidatingVisitor());
  this.defaultConfiguration=defaultConfiguration == null ? new Configuration() : defaultConfiguration.clone();
  this.defaultConfiguration.accept(new ConfigurationValidatingVisitor());
  this.globalComponentRegistry=new GlobalComponentRegistry(this.globalConfiguration,this);
  this.cacheNameLockContainer=new ReentrantPerEntryLockContainer(this.defaultConfiguration.getConcurrencyLevel());
  if (start)   start();
}
