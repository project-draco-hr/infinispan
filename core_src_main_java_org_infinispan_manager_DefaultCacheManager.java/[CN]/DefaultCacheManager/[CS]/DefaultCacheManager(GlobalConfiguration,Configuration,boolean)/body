{
  this.globalConfiguration=globalConfiguration == null ? new GlobalConfiguration() : globalConfiguration.clone();
  this.globalConfiguration.accept(new ConfigurationValidatingVisitor());
  this.defaultConfiguration=defaultConfiguration == null ? new Configuration() : defaultConfiguration.clone();
  this.defaultConfiguration.accept(new ConfigurationValidatingVisitor());
  this.globalComponentRegistry=new GlobalComponentRegistry(this.globalConfiguration,this,reflectionCache,caches.keySet());
  this.cacheCreateLock=new ReentrantLock();
  if (start)   start();
}
