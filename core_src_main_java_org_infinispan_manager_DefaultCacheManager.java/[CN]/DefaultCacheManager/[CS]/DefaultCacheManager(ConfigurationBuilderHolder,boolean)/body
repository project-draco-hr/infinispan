{
  try {
    globalConfiguration=holder.getGlobalConfigurationBuilder().build();
    defaultConfiguration=holder.getDefaultConfigurationBuilder().build(globalConfiguration);
    for (    Entry<String,ConfigurationBuilder> entry : holder.getNamedConfigurationBuilders().entrySet()) {
      ConfigurationBuilder builder=entry.getValue();
      org.infinispan.configuration.cache.Configuration c=builder.build(globalConfiguration);
      configurationOverrides.put(entry.getKey(),c);
    }
    globalComponentRegistry=new GlobalComponentRegistry(globalConfiguration,this,caches.keySet());
    authzHelper=new AuthorizationHelper(globalConfiguration.security(),AuditContext.CACHEMANAGER,globalConfiguration.globalJmxStatistics().cacheManagerName());
  }
 catch (  CacheConfigurationException ce) {
    throw ce;
  }
catch (  RuntimeException re) {
    throw new CacheConfigurationException(re);
  }
  if (start)   start();
}
