{
  ParserRegistry parserRegistry=new ParserRegistry();
  ConfigurationBuilderHolder globalConfigurationBuilderHolder=parserRegistry.parseFile(globalConfigurationFile);
  ConfigurationBuilderHolder defaultConfigurationBuilderHolder=parserRegistry.parseFile(defaultConfigurationFile);
  globalConfiguration=globalConfigurationBuilderHolder.getGlobalConfigurationBuilder().build();
  defaultConfiguration=defaultConfigurationBuilderHolder.getDefaultConfigurationBuilder().build(globalConfiguration);
  if (namedCacheFile != null) {
    ConfigurationBuilderHolder namedConfigurationBuilderHolder=parserRegistry.parseFile(namedCacheFile);
    Entry<String,ConfigurationBuilder> entry=namedConfigurationBuilderHolder.getNamedConfigurationBuilders().entrySet().iterator().next();
    ConfigurationBuilder builder=entry.getValue();
    configurationOverrides.put(entry.getKey(),builder.build(globalConfiguration));
  }
  globalComponentRegistry=new GlobalComponentRegistry(this.globalConfiguration,this,caches.keySet());
  authzHelper=new AuthorizationHelper(globalConfiguration.security(),AuditContext.CACHEMANAGER,globalConfiguration.globalJmxStatistics().cacheManagerName());
  stats=new CacheContainerStatsImpl(this);
  if (start)   start();
}
