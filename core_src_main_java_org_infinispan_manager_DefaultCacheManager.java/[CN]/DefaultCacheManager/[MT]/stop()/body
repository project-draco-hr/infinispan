{
  Cache defaultCache=null;
  for (  Map.Entry<String,CacheWrapper> entry : caches.entrySet()) {
    if (entry.getKey().equals(DEFAULT_CACHE_NAME)) {
      defaultCache=entry.getValue().cache;
    }
 else {
      Cache c=entry.getValue().cache;
      if (c != null) {
        unregisterCacheMBean(c);
        c.stop();
      }
    }
  }
  if (defaultCache != null) {
    unregisterCacheMBean(defaultCache);
    defaultCache.stop();
  }
  globalComponentRegistry.getComponent(CacheManagerJmxRegistration.class).stop();
  globalComponentRegistry.stop();
}
