{
  this.metadataCache=(AdvancedCache<FileCacheKey,FileMetadata>)metadataCache;
  this.chunksCache=(Cache<ChunkCacheKey,Object>)chunksCache;
  this.chunksCacheForStorage=(Cache<ChunkCacheKey,Object>)chunksCache.withFlags(Flag.IGNORE_RETURN_VALUES,Flag.SKIP_INDEXING);
  this.fileKey=fileKey;
  this.bufferSize=bufferSize;
  this.fileOps=fileList;
  this.buffer=new byte[this.bufferSize];
  this.firstChunkBuffer=buffer;
  this.file=new FileMetadata(bufferSize);
  if (trace) {
    log.tracef("Opened new IndexOutput for file:%s in index: %s",fileKey.getFileName(),fileKey.getIndexName());
  }
}
