{
  int totalBytesRead=0;
  while (len > 0) {
    int bytesRead=readFromChunk(b,off,len);
    if (bytesRead == -1)     return totalBytesRead > 0 ? totalBytesRead : -1;
    off+=bytesRead;
    len-=bytesRead;
    totalBytesRead+=bytesRead;
  }
  return totalBytesRead;
}
