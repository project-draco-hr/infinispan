{
  if (failed)   return;
  String name="";
  try {
    Cache<CacheKey,Object> cache=cacheFactory.createClusteredCache();
    try {
      name=buildName(cache);
      directory=new InfinispanDirectory(cache,"indexName");
      System.out.println("Created Directory in " + name);
      try {
        runTest();
      }
 catch (      Exception e) {
        System.out.println("Error in " + name);
        e.printStackTrace();
        failed=true;
        failureMessage=e.getMessage();
      }
    }
  finally {
      cleanup(cache);
    }
  }
 catch (  InterruptedException e) {
    failed=true;
    failureMessage=e.getMessage();
  }
 finally {
    System.out.println("Leaving thread " + name);
  }
}
