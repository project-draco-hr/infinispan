{
  ExecutorService executor=Executors.newFixedThreadPool(CONCURRENCY_LIMIT);
  for (int i=0; !failed && (i < TOTAL_NODES_TO_CREATE); i++) {
    executor.execute(new LuceneUserThread());
    Thread.sleep(TIME_BETWEEN_NODE_CREATIONS);
  }
  executor.shutdown();
  executor.awaitTermination(1,TimeUnit.HOURS);
  Assert.assertTrue(!failed,failureMessage);
}
