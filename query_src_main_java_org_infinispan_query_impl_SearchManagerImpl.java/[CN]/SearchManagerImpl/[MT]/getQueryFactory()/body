{
  EntityNamesResolver entityNamesResolver=new EntityNamesResolver(){
    @Override public Class<?> getClassFromName(    String entityName){
      Class clazz;
      try {
        clazz=Class.forName(entityName);
      }
 catch (      ClassNotFoundException e) {
        return null;
      }
      return queryInterceptor.isIndexed(clazz) ? clazz : null;
    }
  }
;
  return new EmbeddedLuceneQueryFactory(this,entityNamesResolver);
}
