{
  if (isRemote && command instanceof CommitCommand) {
    receivedCommits.incrementAndGet();
    try {
      gate.await();
      log.tracef("gate is opened, processing the commit:  %s",command);
    }
 catch (    InterruptedException e) {
      throw new RuntimeException(e);
    }
  }
  actual.initializeReplicableCommand(command,isRemote);
}
