{
  String key1="key1";
  String key2="myBestPersonalKeyWhichHasNeverBeenBetter";
  String key3="key3";
  cache=createCache(mbeans);
  assertCleanCacheAndStoreHotrod();
  cache.put(key1,"v1");
  cache.put(key2,"v2");
  assertTrue(!dbServer.bucketTable.exists() || dbServer.bucketTable.getAllRows().isEmpty());
  cache.put(key3,"v3");
  assertTrue(2 >= server.getCacheManager(MANAGER_NAME).getCache(CACHE_NAME).getNumberOfEntries());
  byte[] k1Stored=getRealKeyStored(key1,cache);
  dbServer.bucketTable.waitForTableCreation();
  assertTrue(!dbServer.bucketTable.getAllRows().isEmpty());
  assertNotNull(dbServer.bucketTable.getBucketByKey(k1Stored));
  assertEquals("v1",cache.get(key1));
  assertTrue(2 >= server.getCacheManager(MANAGER_NAME).getCache(CACHE_NAME).getNumberOfEntries());
  assertEquals("v2",cache.get(key2));
  assertEquals("v3",cache.get(key3));
}
