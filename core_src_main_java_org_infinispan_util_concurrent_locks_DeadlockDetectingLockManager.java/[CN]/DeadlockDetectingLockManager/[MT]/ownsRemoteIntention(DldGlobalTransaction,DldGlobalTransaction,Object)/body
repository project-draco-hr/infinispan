{
  boolean localLockOwner=!lockOwnerTx.isRemote();
  if (localLockOwner) {
    if (thisTx.hasLockAtOrigin(lockOwnerTx.getRemoteLockIntention())) {
      if (trace)       log.trace("Same key deadlock detected: lock owner tries to acquire lock remotely on " + key + " but we have it!");
      return true;
    }
  }
 else {
    if (trace)     log.trace("Lock owner is remote: " + lockOwnerTx);
  }
  return false;
}
