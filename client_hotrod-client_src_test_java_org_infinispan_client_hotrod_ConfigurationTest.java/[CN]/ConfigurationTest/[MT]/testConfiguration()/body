{
  ConfigurationBuilder builder=new ConfigurationBuilder();
  builder.addServer().host("host1").port(11222).addServer().host("host2").port(11222).asyncExecutorFactory().factoryClass(SomeAsyncExecutorFactory.class).balancingStrategy(SomeRequestBalancingStrategy.class).connectionPool().maxActive(100).maxTotal(150).maxWait(1000).maxIdle(20).minIdle(10).exhaustedAction(ExhaustedAction.WAIT).numTestsPerEvictionRun(5).testOnBorrow(true).testOnReturn(true).testWhileIdle(false).minEvictableIdleTime(12000).timeBetweenEvictionRuns(15000).connectionTimeout(100).consistentHashImpl(1,SomeCustomConsistentHashV1.class).socketTimeout(100).tcpNoDelay(false).pingOnStartup(false).keySizeEstimate(128).valueSizeEstimate(1024).transportFactory(SomeTransportfactory.class);
  Configuration configuration=builder.build();
  validateConfiguration(configuration);
  ConfigurationBuilder newBuilder=new ConfigurationBuilder();
  newBuilder.read(configuration);
  Configuration newConfiguration=newBuilder.build();
  validateConfiguration(newConfiguration);
}
