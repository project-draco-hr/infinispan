{
  query.afterDeserialise((SearchFactoryImplementor)getSearchFactory());
  DocumentExtractor extractor=query.queryDocumentExtractor();
  int resultSize=query.queryResultSize();
  ISPNEagerTopDocs eagerTopDocs=collectKeys(extractor);
  QueryResponse queryResponse=new QueryResponse(eagerTopDocs,getQueryBox().getMyId(),resultSize);
  queryResponse.setAddress(cache.getAdvancedCache().getRpcManager().getAddress());
  return queryResponse;
}
