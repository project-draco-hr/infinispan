{
  MVCCEntry e=(MVCCEntry)ctx.lookupEntry(key);
  if (e == null && hasFlag(Flag.PUT_FOR_EXTERNAL_READ)) {
    successful=false;
    return null;
  }
  if (e == null)   return null;
  if (putIfAbsent && ctx.isInTxScope() && !ctx.isOriginLocal()) {
    if (ignorePreviousValue) {
      return performPut(e,ctx);
    }
 else {
      return e.getValue();
    }
  }
  Object entryValue=e.getValue();
  if (entryValue != null && putIfAbsent && !e.isRemoved()) {
    successful=false;
    return entryValue;
  }
 else {
    return performPut(e,ctx);
  }
}
