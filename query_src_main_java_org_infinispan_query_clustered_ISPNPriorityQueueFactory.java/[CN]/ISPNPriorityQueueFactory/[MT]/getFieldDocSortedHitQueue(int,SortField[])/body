{
  String className="org.apache.lucene.search.FieldDocSortedHitQueue";
  PriorityQueue<FieldDoc> queue=createPriorityHitQueue(size,className);
  Method[] methods=queue.getClass().getDeclaredMethods();
  for (  Method method : methods) {
    if (method.getName().equals("setFields")) {
      Object[] parameters=new Object[1];
      parameters[0]=sort;
      ReflectionUtil.invokeAccessibly(queue,method,parameters);
    }
  }
  return queue;
}
