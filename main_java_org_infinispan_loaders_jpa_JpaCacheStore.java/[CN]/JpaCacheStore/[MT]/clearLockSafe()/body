{
  EntityManager em=emf.createEntityManager();
  EntityTransaction txn=em.getTransaction();
  try {
    txn.begin();
    String name=em.getMetamodel().entity(config.getEntityClass()).getName();
    Query query=em.createQuery("DELETE FROM " + name);
    query.executeUpdate();
    txn.commit();
  }
 catch (  Exception e) {
    if (txn != null && txn.isActive())     txn.rollback();
    throw new CacheLoaderException("Exception caught in clear()",e);
  }
 finally {
    em.close();
  }
}
