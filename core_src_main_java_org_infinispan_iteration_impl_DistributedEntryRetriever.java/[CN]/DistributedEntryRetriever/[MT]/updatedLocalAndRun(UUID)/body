{
  boolean shouldRun=false;
  boolean updated=false;
  IterationStatus<?> details=iteratorDetails.get(identifier);
  if (details != null) {
    AtomicReference<LocalStatus> localRunning=details.localRunning;
    while (!updated) {
      LocalStatus status=localRunning.get();
      if (status == null) {
        updated=true;
      }
 else {
switch (status) {
case IDLE:
          updated=shouldRun=localRunning.compareAndSet(LocalStatus.IDLE,LocalStatus.RUNNING);
        break;
case REPEAT:
      updated=true;
    break;
case RUNNING:
  updated=localRunning.compareAndSet(LocalStatus.RUNNING,LocalStatus.REPEAT);
break;
}
}
}
}
return shouldRun;
}
