{
  Address primaryOwner=getPrimaryOwner();
  if (!primaryOwner.equals(rpcManager.getAddress())) {
    setVersionsSeenOnPrepareCommand((VersionedPrepareCommand)command,context);
    try {
      Map<Address,Response> resps=rpcManager.invokeRemotely(null,command,rpcManager.getDefaultRpcOptions(true,false));
      Response r=resps.get(primaryOwner);
      readVersionsFromResponse(r,context.getCacheTransaction());
    }
  finally {
      transactionRemotelyPrepared(context);
    }
  }
 else {
    super.broadcastPrepare(context,command);
  }
}
