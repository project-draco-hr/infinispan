{
  EmbeddedCacheManager[] cms=null;
  boolean threwException=false;
  try {
    cms=c.call();
  }
 catch (  Exception e) {
    threwException=true;
    throw e;
  }
catch (  Error e) {
    threwException=true;
    throw e;
  }
 finally {
    if (cms == null && !threwException)     throw new IllegalStateException("Callable must return a non-null cache manager instance");
    TestingUtil.killCacheManagers(cms);
  }
}
