{
  writers.put(typeClass,adapter);
  ExternalizerAdapter prevReader=readers.put(readerIndex,adapter);
  if (prevReader != null && !prevReader.equals(adapter))   throw new ConfigurationException(String.format("Duplicate id found! Externalizer id=%d for %s is shared by another externalizer (%s). Reader index is %d",adapter.id,typeClass,prevReader.externalizer.getClass().getName(),readerIndex));
  if (log.isTraceEnabled())   log.trace("Loaded externalizer {0} for {1} with id {2} and reader index {3}",adapter.externalizer.getClass().getName(),typeClass,adapter.id,readerIndex);
}
