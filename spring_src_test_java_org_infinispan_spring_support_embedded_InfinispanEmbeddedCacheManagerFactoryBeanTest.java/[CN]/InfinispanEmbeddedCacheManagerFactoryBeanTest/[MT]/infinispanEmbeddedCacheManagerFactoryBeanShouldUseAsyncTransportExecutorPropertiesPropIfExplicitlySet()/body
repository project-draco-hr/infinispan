{
  final Properties expectedAsyncTransportExecutorProperties=new Properties();
  expectedAsyncTransportExecutorProperties.setProperty("key","value");
  final InfinispanEmbeddedCacheManagerFactoryBean objectUnderTest=new InfinispanEmbeddedCacheManagerFactoryBean();
  objectUnderTest.setAsyncTransportExecutorProperties(expectedAsyncTransportExecutorProperties);
  objectUnderTest.afterPropertiesSet();
  final EmbeddedCacheManager embeddedCacheManager=objectUnderTest.getObject();
  assertEquals("SpringEmbeddedCacheManagerFactoryBean should have used explicitly set AsyncTransportExecutorProperties. However, it didn't.",expectedAsyncTransportExecutorProperties,embeddedCacheManager.getGlobalConfiguration().getAsyncTransportExecutorProperties());
  embeddedCacheManager.stop();
}
