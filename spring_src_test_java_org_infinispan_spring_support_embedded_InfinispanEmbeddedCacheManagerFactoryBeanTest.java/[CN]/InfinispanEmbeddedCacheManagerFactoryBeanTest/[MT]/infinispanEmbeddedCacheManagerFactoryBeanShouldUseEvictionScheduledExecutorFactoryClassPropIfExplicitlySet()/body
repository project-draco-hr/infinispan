{
  final String expectedEvictionScheduledExecutorFactoryClass=MockScheduleExecutorFactory.class.getName();
  final InfinispanEmbeddedCacheManagerFactoryBean objectUnderTest=new InfinispanEmbeddedCacheManagerFactoryBean();
  objectUnderTest.setEvictionScheduledExecutorFactoryClass(expectedEvictionScheduledExecutorFactoryClass);
  objectUnderTest.afterPropertiesSet();
  final EmbeddedCacheManager embeddedCacheManager=objectUnderTest.getObject();
  assertEquals("SpringEmbeddedCacheManagerFactoryBean should have used explicitly set EvictionScheduledExecutorFactoryClass. However, it didn't.",expectedEvictionScheduledExecutorFactoryClass,embeddedCacheManager.getGlobalConfiguration().getEvictionScheduledExecutorFactoryClass());
  embeddedCacheManager.stop();
}
