{
  this.configuration=configuration;
  componentRegistry=new ComponentRegistry(cacheName,configuration,cache,globalComponentRegistry,defaultClassLoader);
  componentRegistry.registerComponent(cache,Cache.class.getName(),true);
  componentRegistry.registerComponent(new CacheJmxRegistration(),CacheJmxRegistration.class.getName(),true);
  if (configuration.transaction().transactionMode().isTransactional() && configuration.transaction().recovery().enabled()) {
    componentRegistry.registerComponent(new RecoveryAdminOperations(),RecoveryAdminOperations.class.getName(),true);
  }
  if (!configuration.sites().inUseBackups().isEmpty()) {
    componentRegistry.registerComponent(new CrossSiteReplicationOperations(),CrossSiteReplicationOperations.class.getName(),true);
  }
  componentRegistry.registerComponent(new RollingUpgradeManager(),RollingUpgradeManager.class.getName(),true);
}
