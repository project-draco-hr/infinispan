{
  if (filter == null)   throw new IllegalArgumentException("No filter specified");
  if (action == null)   throw new IllegalArgumentException("No action specified");
  ParallelIterableMap<Object,InternalCacheEntry> map=(ParallelIterableMap<Object,InternalCacheEntry>)entries;
  map.forEach(512,new ParallelIterableMap.KeyValueAction<Object,InternalCacheEntry>(){
    @Override public void apply(    Object key,    InternalCacheEntry value){
      if (filter.shouldLoadKey((K)key)) {
        action.apply((K)key,value);
      }
    }
  }
);
  if (Thread.currentThread().isInterrupted()) {
    throw new InterruptedException();
  }
}
