{
  if (filter == null)   throw new IllegalArgumentException("No filter specified");
  if (action == null)   throw new IllegalArgumentException("No action specified");
  ParallelIterableMap<K,InternalCacheEntry<K,V>> map=(ParallelIterableMap<K,InternalCacheEntry<K,V>>)entries;
  map.forEach(32,new KeyValueAction<K,InternalCacheEntry<K,V>>(){
    @Override public void apply(    K key,    InternalCacheEntry<K,V> value){
      if (filter.accept(key)) {
        action.apply(key,value);
      }
    }
  }
);
  if (Thread.currentThread().isInterrupted()) {
    throw new InterruptedException();
  }
}
