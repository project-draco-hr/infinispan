{
  InternalCacheEntry e=entries.get(k);
  if (e != null) {
    e.setValue(v);
    InternalCacheEntry original=e;
    e=entryFactory.update(e,lifespan,maxIdle);
    if (original == e) {
      e.reincarnate();
    }
  }
 else {
    e=entryFactory.createNewEntry(k,v,lifespan,maxIdle);
  }
  entries.put(k,e);
}
