{
  Object retVal=ctx.forkInvocationSync(command);
  if (shouldInvokeRemoteTxCommand(ctx)) {
    Collection<Address> recipients=cdl.getOwners(getAffectedKeysFromContext(ctx));
    prepareOnAffectedNodes(ctx,command,recipients);
    ((LocalTxInvocationContext)ctx).remoteLocksAcquired(recipients == null ? dm.getWriteConsistentHash().getMembers() : recipients);
  }
  return ctx.shortCircuit(retVal);
}
