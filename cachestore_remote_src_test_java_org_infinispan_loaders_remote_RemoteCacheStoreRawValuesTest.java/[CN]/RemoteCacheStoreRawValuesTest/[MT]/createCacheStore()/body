{
  ConfigurationBuilder cb=TestCacheManagerFactory.getDefaultCacheConfiguration(false);
  cb.eviction().maxEntries(100).strategy(EvictionStrategy.UNORDERED).expiration().wakeUpInterval(10L);
  localCacheManager=TestCacheManagerFactory.createCacheManager(hotRodCacheConfiguration(cb));
  localCacheManager.getCache(REMOTE_CACHE);
  hrServer=TestHelper.startHotRodServer(localCacheManager);
  RemoteCacheStoreConfigurationBuilder storeConfigurationBuilder=TestCacheManagerFactory.getDefaultCacheConfiguration(false).loaders().addLoader(RemoteCacheStoreConfigurationBuilder.class).purgeSynchronously(true).rawValues(true).remoteCacheName(REMOTE_CACHE);
  storeConfigurationBuilder.addServer().host(hrServer.getHost()).port(hrServer.getPort());
  RemoteCacheStore remoteCacheStore=new RemoteCacheStore();
  remoteCacheStore.init(storeConfigurationBuilder.create(),getCache(),getMarshaller());
  remoteCacheStore.setInternalCacheEntryFactory(new InternalEntryFactoryImpl());
  remoteCacheStore.start();
  return remoteCacheStore;
}
