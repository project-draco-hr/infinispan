{
  Metadata metadata=getMetadata();
  if (metadata == null)   throw new IllegalStateException("metadata for " + getPath() + " not found.");
  metadata.setLength(newLength);
  metadata.setModificationTime(System.currentTimeMillis());
  metadataCache.put(getPath(),metadata);
}
