{
  TransactionalSharedLuceneLock lock;
  if (DEF_LOCK_NAME.equals(lockName)) {
    lock=defLock;
  }
 else {
    lock=new TransactionalSharedLuceneLock(cache,indexName,lockName,tm);
  }
  if (log.isTraceEnabled()) {
    log.tracef("Lock prepared, not acquired: %s for index %s",lockName,indexName);
  }
  return lock;
}
