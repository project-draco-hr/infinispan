{
  producer.get(key,null).expectNearGetNull(key);
  producer.put(key,"v1").expectNearRemove(key,consumer);
  producer.get(key,"v1").expectNearGetNull(key).expectNearPutIfAbsent(key,"v1");
  producer.put(key,"v2").expectNearRemove(key,consumer);
  producer.get(key,"v2").expectNearGetNull(key).expectNearPutIfAbsent(key,"v2");
  producer.remove(key).expectNearRemove(key,consumer);
  producer.get(key,null).expectNearGetNull(key);
}
