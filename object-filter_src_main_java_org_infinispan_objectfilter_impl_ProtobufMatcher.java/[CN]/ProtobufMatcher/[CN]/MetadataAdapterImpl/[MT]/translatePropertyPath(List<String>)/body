{
  List<Integer> propPath=new ArrayList<Integer>(path.size());
  Descriptors.Descriptor md=messageDescriptor;
  for (  String prop : path) {
    Descriptors.FieldDescriptor fd=md.findFieldByName(prop);
    propPath.add(fd.getNumber());
    if (fd.getJavaType() == Descriptors.FieldDescriptor.JavaType.MESSAGE) {
      md=fd.getMessageType();
    }
 else {
      md=null;
    }
  }
  return propPath;
}
