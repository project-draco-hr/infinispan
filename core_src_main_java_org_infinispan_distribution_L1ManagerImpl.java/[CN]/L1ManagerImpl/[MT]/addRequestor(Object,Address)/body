{
  Collection<Address> as=requestors.get(key);
  if (as == null) {
    as=new ConcurrentHashSet<Address>();
    Collection<Address> previousAs=requestors.putIfAbsent(key,as);
    if (previousAs != null) {
      as=previousAs;
    }
  }
  as.add(origin);
  if (requestors.get(key) != as) {
synchronized (requestors) {
      if (requestors.containsKey(key)) {
        requestors.get(key).add(origin);
      }
 else {
        as=new ConcurrentHashSet<Address>();
        as.add(origin);
        requestors.put(key,as);
      }
    }
  }
}
