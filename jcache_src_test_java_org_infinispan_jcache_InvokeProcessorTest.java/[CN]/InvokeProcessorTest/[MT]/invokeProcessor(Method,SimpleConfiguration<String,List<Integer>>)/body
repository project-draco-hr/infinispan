{
  String name=getName(m);
  CacheManager cm=Caching.getCacheManager(name);
  try {
    Cache<String,List<Integer>> cache=cm.configureCache(name,jcacheCfg);
    List<Integer> list=new ArrayList<Integer>(Arrays.asList(1,2,3));
    final String query="select * from x";
    cache.put(query,list);
    cache.invokeEntryProcessor(query,new Cache.EntryProcessor<String,List<Integer>,Object>(){
      @Override public Object process(      Cache.MutableEntry<String,List<Integer>> entry){
        List<Integer> ids=entry.getValue();
        ids.add(4);
        entry.setValue(ids);
        return null;
      }
    }
);
    assertEquals(new ArrayList<Integer>(Arrays.asList(1,2,3,4)),cache.get(query));
  }
  finally {
    cm.shutdown();
  }
}
