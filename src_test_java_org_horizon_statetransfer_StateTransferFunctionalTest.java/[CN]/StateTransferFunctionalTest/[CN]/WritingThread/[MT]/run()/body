{
  int c=0;
  while (!stop) {
    try {
      if (c == 1000) {
        if (tx)         tm.begin();
        for (int i=0; i < 1000; i++)         cache.remove("test" + i);
        if (tx)         tm.commit();
        c=0;
      }
 else {
        if (tx)         tm.begin();
        cache.put("test" + c,c++);
        if (tx)         tm.commit();
      }
    }
 catch (    Exception e) {
      stopThread();
    }
  }
  result=c;
}
