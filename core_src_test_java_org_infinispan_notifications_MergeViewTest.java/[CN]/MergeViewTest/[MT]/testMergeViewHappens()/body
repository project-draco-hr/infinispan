{
  discard.setDiscardAll(false);
  TestingUtil.blockUntilViewsReceived(60000,cache(0),cache(1));
  cache(0).put("k","v0");
  assertEquals(cache(0).get("k"),"v0");
  assertEquals(cache(1).get("k"),"v0");
  eventually(new Condition(){
    @Override public boolean isSatisfied() throws Exception {
      return ml0.isMerged && ml1.isMerged;
    }
  }
);
}
