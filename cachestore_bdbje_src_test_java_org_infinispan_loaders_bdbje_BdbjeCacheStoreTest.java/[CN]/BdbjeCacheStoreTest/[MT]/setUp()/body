{
  cfg=new BdbjeCacheStoreConfig();
  factory=new MockBdbjeResourceFactory(cfg);
  cache=mock(Cache.class);
  cs=new BdbjeCacheStore();
  env=mock(Environment.class);
  cacheDb=mock(Database.class);
  catalogDb=mock(Database.class);
  expiryDb=mock(Database.class);
  catalog=mock(StoredClassCatalog.class);
  cacheMap=mock(StoredMap.class);
  expiryMap=mock(StoredSortedMap.class);
  currentTransaction=mock(CurrentTransaction.class);
  gtf=new TransactionFactory();
  gtf.init(false,false,true);
  WeakReference<Environment> envRef=new WeakReference<Environment>(env);
  ReflectionUtil.setValue(currentTransaction,"envRef",envRef);
  ThreadLocal localTrans=new ThreadLocal();
  ReflectionUtil.setValue(currentTransaction,"localTrans",localTrans);
  runner=mock(PreparableTransactionRunner.class);
}
