{
  int loops=10;
  long sleepDuration=timeout / loops;
  try {
    for (int i=0; i < loops; i++) {
      if (ec.isSatisfied())       break;
      Thread.sleep(sleepDuration);
    }
    assertEquals(true,ec.isSatisfied());
  }
 catch (  Exception e) {
    throw new RuntimeException("Unexpected!",e);
  }
}
