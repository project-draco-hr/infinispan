{
  if (ci.getCacheManager().cacheExists(cacheName)) {
    Cache cache=ci.getCacheManager().getCache(cacheName);
    SearchManager searchManager=Search.getSearchManager(cache);
    searchFactory=searchManager.unwrap(SearchIntegrator.class);
    queryInterceptor=ComponentRegistryUtils.getQueryInterceptor(cache);
  }
 else {
    throw new CacheException("Cache named '" + cacheName + "' does not exist on this CacheManager, or was not started");
  }
}
