{
  Object propValue=p.get(name);
  if (propValue == null) {
    log.tracef("%s property not specified, using default value (%s)",name,defaultValue);
    return defaultValue;
  }
 else {
    log.tracef("%s = %s",name,propValue);
    if (defaultValue instanceof Integer) {
      return Integer.parseInt(propValue.toString());
    }
 else     if (defaultValue instanceof Boolean) {
      return Boolean.parseBoolean(propValue.toString());
    }
 else     if (defaultValue instanceof Long) {
      return Long.parseLong(propValue.toString());
    }
 else {
      throw new IllegalStateException();
    }
  }
}
