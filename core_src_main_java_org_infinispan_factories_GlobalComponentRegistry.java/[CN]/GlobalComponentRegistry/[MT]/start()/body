{
  try {
    boolean needToNotify=state != ComponentStatus.RUNNING && state != ComponentStatus.INITIALIZING;
    if (needToNotify) {
      for (      ModuleLifecycle l : moduleLifecycles) {
        l.cacheManagerStarting(this,globalConfiguration);
      }
    }
    super.start();
    if (needToNotify && state == ComponentStatus.RUNNING) {
      for (      ModuleLifecycle l : moduleLifecycles) {
        l.cacheManagerStarted(this);
      }
    }
  }
 catch (  RuntimeException rte) {
    try {
      resetVolatileComponents();
      rewire();
    }
 catch (    Exception e) {
      if (log.isDebugEnabled())       log.warn("Unable to reset GlobalComponentRegistry after a failed restart!",e);
 else       log.warn("Unable to reset GlobalComponentRegistry after a failed restart due to an exception of type " + e.getClass().getSimpleName() + " with message "+ e.getMessage()+ ". Use DEBUG level logging for full exception details.");
    }
    throw new EmbeddedCacheManagerStartupException(rte);
  }
}
