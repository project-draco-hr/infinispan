{
  try {
    boolean needToNotify=state != ComponentStatus.RUNNING && state != ComponentStatus.INITIALIZING;
    if (needToNotify) {
      for (      ModuleLifecycle l : moduleLifecycles) {
        l.cacheManagerStarting(this,globalConfiguration);
      }
    }
    super.start();
    if (versionLogged.compareAndSet(false,true)) {
      log.version(Version.printVersion());
    }
    if (needToNotify && state == ComponentStatus.RUNNING) {
      for (      ModuleLifecycle l : moduleLifecycles) {
        l.cacheManagerStarted(this);
      }
    }
  }
 catch (  RuntimeException rte) {
    try {
      resetVolatileComponents();
      rewire();
    }
 catch (    Exception e) {
      if (log.isDebugEnabled())       log.unableToResetGlobalComponentRegistryAfterRestart(e);
 else       log.unableToResetGlobalComponentRegistryAfterRestart(e.getClass().getSimpleName(),e.getMessage(),e);
    }
    throw new EmbeddedCacheManagerStartupException(rte);
  }
}
