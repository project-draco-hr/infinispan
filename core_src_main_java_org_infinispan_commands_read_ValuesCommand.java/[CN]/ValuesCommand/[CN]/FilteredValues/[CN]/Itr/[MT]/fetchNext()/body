{
  if (atIt1) {
    boolean found=false;
    while (it1.hasNext()) {
      CacheEntry e=it1.next();
      if (e.isCreated()) {
        next=e.getValue();
        found=true;
        break;
      }
    }
    if (!found) {
      atIt1=false;
    }
  }
  if (!atIt1) {
    boolean found=false;
    long currentTimeMillis=0;
    while (it2.hasNext()) {
      InternalCacheEntry ice=it2.next();
      Object key=ice.getKey();
      CacheEntry e=lookedUpEntries.get(key);
      if (ice.canExpire()) {
        if (currentTimeMillis == 0)         currentTimeMillis=System.currentTimeMillis();
        if (ice.isExpired(currentTimeMillis))         continue;
      }
      if (e == null) {
        next=ice.getValue();
        found=true;
        break;
      }
      if (e.isChanged()) {
        next=e.getValue();
        found=true;
        break;
      }
    }
    if (!found) {
      next=null;
    }
  }
}
