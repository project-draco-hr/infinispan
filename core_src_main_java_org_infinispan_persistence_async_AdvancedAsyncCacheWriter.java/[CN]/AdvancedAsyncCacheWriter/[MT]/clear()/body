{
  stateLock.writeLock(1);
  try {
    state.set(newState(true,state.get().next));
  }
  finally {
    stateLock.reset(1);
    stateLock.writeUnlock();
  }
}
