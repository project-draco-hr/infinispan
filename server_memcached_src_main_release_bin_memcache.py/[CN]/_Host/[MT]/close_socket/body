def close_socket(self):
    if self.socket:
        self.socket.close()
        self.socket = None
