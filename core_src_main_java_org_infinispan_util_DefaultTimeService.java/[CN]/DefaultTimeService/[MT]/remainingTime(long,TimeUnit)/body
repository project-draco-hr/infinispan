{
  if (endTime <= 0) {
    return 0;
  }
  long now=time();
  return now > endTime ? 0 : outputTimeUnit.convert(endTime - now,TimeUnit.NANOSECONDS);
}
