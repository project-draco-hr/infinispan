{
  TypedProperties tp=TypedProperties.toTypedProperties(p);
  int maxThreads=tp.getIntProperty("maxThreads",1);
  int queueSize=tp.getIntProperty("queueSize",100000);
  final String threadNamePrefix=tp.getProperty("threadNamePrefix","Thread");
  ThreadFactory tf=new ThreadFactory(){
    public Thread newThread(    Runnable r){
      Thread th=new Thread(r,threadNamePrefix + "-" + counter.getAndIncrement());
      th.setDaemon(true);
      return th;
    }
  }
;
  return new ThreadPoolExecutor(maxThreads,maxThreads,0L,TimeUnit.MILLISECONDS,new LinkedBlockingQueue<Runnable>(queueSize),tf);
}
