{
  if (isChanged())   return;
  setChanged();
  if (writeSkewCheck) {
    InternalCacheEntry ice=container.get(key);
    Object actualValue=ice == null ? null : ice.getValue();
    if (actualValue != null && actualValue != value) {
      String errormsg=new StringBuilder().append("Detected write skew on key [").append(getKey()).append("].  Another process has changed the entry since we last read it!").toString();
      if (log.isWarnEnabled())       log.warn(errormsg + ".  Unable to copy entry for update.");
      throw new CacheException(errormsg);
    }
  }
  oldValue=value;
}
