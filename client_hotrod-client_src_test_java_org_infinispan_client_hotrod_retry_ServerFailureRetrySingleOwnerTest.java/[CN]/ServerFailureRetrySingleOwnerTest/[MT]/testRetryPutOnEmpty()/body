{
  ErrorInducingListener listener=new ErrorInducingListener();
  byte[] key=TestHelper.getKeyForServer(hotRodServer1);
  hotRodServer1.getCacheManager().getCache().addListener(listener);
  try {
    assertFalse(listener.errorInduced);
    assertNull(remoteCache.put(key,1));
    assertTrue(listener.errorInduced);
    assertEquals(1,remoteCache.get(key));
  }
  finally {
    hotRodServer1.getCacheManager().removeListener(listener);
  }
}
