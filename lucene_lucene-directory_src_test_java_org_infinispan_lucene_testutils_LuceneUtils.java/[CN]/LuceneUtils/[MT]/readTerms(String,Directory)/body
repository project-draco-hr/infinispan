{
  try (DirectoryReader reader=DirectoryReader.open(directory)){
    Set<String> termStrings=new TreeSet<>();
    for (    AtomicReaderContext atomicReaderContext : reader.leaves()) {
      AtomicReader atomicReader=atomicReaderContext.reader();
      TermsEnum iterator=atomicReader.terms(field).iterator(null);
      BytesRef next=iterator.next();
      while (next != null) {
        termStrings.add(iterator.term().utf8ToString());
        next=iterator.next();
      }
    }
    return termStrings;
  }
 }
