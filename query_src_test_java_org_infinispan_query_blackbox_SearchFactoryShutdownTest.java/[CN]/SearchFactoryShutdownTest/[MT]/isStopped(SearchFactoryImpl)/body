{
  try {
    Field status=SearchFactoryImpl.class.getDeclaredField("stopped");
    status.setAccessible(true);
    AtomicBoolean b=(AtomicBoolean)status.get(sfi);
    return b.get();
  }
 catch (  Exception e) {
    throw new RuntimeException("Cannot test running state of the search factory",e);
  }
}
