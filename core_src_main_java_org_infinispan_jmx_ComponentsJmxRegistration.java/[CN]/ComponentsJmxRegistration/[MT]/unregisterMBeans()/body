{
  log.trace("Unregistering jmx resources..");
  try {
    List<ResourceDMBean> resourceDMBeans=getResourceDMBeansFromComponents();
    boolean trace=log.isTraceEnabled();
    for (    ResourceDMBean resource : resourceDMBeans) {
      ObjectName objectName=getObjectName(resource);
      if (mBeanServer.isRegistered(objectName)) {
        mBeanServer.unregisterMBean(objectName);
        if (trace)         log.tracef("Unregistered %s",objectName);
      }
    }
  }
 catch (  Exception e) {
    throw new CacheException("Failure while unregistering mbeans",e);
  }
}
