{
  try {
    List<ResourceDMBean> resourceDMBeans=getResourceDMBeansFromComponents();
    boolean trace=log.isTraceEnabled();
    for (    ResourceDMBean resource : resourceDMBeans) {
      ObjectName objectName=getObjectName(resource);
      if (!mBeanServer.isRegistered(objectName)) {
        try {
          mBeanServer.registerMBean(resource,objectName);
          if (trace)           log.trace("Registered %s under %s",resource,objectName);
        }
 catch (        InstanceAlreadyExistsException e) {
          log.info("Could not register object with name:" + objectName + "("+ e.getMessage()+ ")");
        }
      }
 else {
        if (log.isDebugEnabled())         log.debug("Object name %s already registered",objectName);
      }
    }
  }
 catch (  Exception e) {
    throw new CacheException("Failure while registering mbeans",e);
  }
}
