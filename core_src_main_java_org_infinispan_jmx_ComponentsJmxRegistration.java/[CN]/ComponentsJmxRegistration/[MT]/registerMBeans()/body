{
  try {
    List<ResourceDMBean> resourceDMBeans=getResourceDMBeansFromComponents();
    boolean trace=log.isTraceEnabled();
    for (    ResourceDMBean resource : resourceDMBeans) {
      ObjectName objectName=getObjectName(resource);
      if (!mBeanServer.isRegistered(objectName)) {
        try {
          mBeanServer.registerMBean(resource,objectName);
          if (trace)           log.tracef("Registered %s under %s",resource,objectName);
        }
 catch (        InstanceAlreadyExistsException e) {
          log.couldNotRegisterObjectName(objectName,e);
        }
      }
 else {
        if (log.isDebugEnabled())         log.debugf("Object name %s already registered",objectName);
      }
    }
  }
 catch (  Exception e) {
    throw new CacheException("Failure while registering mbeans",e);
  }
}
