{
  if (enabled) {
    if (!clustering().cacheMode().isDistributed())     throw new CacheConfigurationException("Enabling the L1 cache is only supported when using DISTRIBUTED as a cache mode.  Your cache mode is set to " + clustering().cacheMode().friendlyCacheModeString());
    if (lifespan < 1)     throw new CacheConfigurationException("Using a L1 lifespan of 0 or a negative value is meaningless");
  }
 else {
    if (onRehash)     throw new CacheConfigurationException("Can only move entries to L1 on rehash when L1 is enabled");
  }
}
