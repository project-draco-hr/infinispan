{
  CacheLoader tmpLoader;
  if (clmConfig.useChainingCacheLoader()) {
    ChainingCacheStore ccl=new ChainingCacheStore();
    tmpLoader=ccl;
    int numLoadersWithFetchPersistentState=0;
    for (    CacheLoaderConfig cfg : clmConfig.getCacheLoaderConfigs()) {
      if (cfg.isFetchPersistentState())       numLoadersWithFetchPersistentState++;
      if (numLoadersWithFetchPersistentState > 1)       throw new Exception("Invalid cache loader configuration!!  Only ONE cache loader may have fetchPersistentState set to true.  Cache will not start!");
      assertNotSingletonAndShared(cfg);
      CacheLoader l=createCacheLoader(cfg,cache);
      ccl.addCacheLoader(l,cfg);
    }
  }
 else {
    CacheLoaderConfig cfg=clmConfig.getFirstCacheLoaderConfig();
    tmpLoader=createCacheLoader(cfg,cache);
    assertNotSingletonAndShared(cfg);
  }
  ReflectionUtil.setValue(clmConfig,"accessible",true);
  return tmpLoader;
}
