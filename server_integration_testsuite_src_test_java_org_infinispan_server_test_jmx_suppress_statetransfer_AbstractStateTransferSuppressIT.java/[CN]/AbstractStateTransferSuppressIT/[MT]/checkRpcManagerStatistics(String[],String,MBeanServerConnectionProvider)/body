{
  for (  final MBeanServerConnectionProvider provider : providers) {
    if (expectedCommitedView != null) {
      eventually(new ITestUtils.Condition(){
        @Override public boolean isSatisfied() throws Exception {
          String committedViewAsString=String.valueOf(getAttribute(provider,RPC_MANAGER_MBEAN,COMMITTED_VIEW_AS_STRING_ATTR_NAME));
          return expectedCommitedView.equals(committedViewAsString);
        }
      }
,10000);
    }
    String pendingViewAsString=String.valueOf(getAttribute(provider,RPC_MANAGER_MBEAN,PENDING_VIEW_AS_STRING_ATTR_NAME));
    boolean passed=false;
    for (    String expectedPendingView : expectedPendingViews) {
      if (expectedPendingView.equals(pendingViewAsString)) {
        passed=true;
        break;
      }
    }
    assertTrue("The pending view doesn't match to any of expected ones, but is " + pendingViewAsString + ".",passed);
  }
}
