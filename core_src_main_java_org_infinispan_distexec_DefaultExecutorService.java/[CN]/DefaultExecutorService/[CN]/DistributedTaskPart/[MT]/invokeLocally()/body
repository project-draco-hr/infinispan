{
  log.debugf("Sending %s to self",this);
  try {
    Callable<Object> call=new Callable<Object>(){
      @Override public Object call() throws Exception {
        return doLocalInvoke();
      }
      private Object doLocalInvoke(){
        Object result=null;
        getCommand().init(cache);
        DistributedTaskLifecycleService taskLifecycleService=DistributedTaskLifecycleService.getInstance();
        try {
          taskLifecycleService.onPreExecute(getCommand().getCallable(),cache);
          cancellationService.register(Thread.currentThread(),getCommand().getUUID());
          result=getCommand().perform(null);
          return Collections.singletonMap(getAddress(),SuccessfulResponse.create(result));
        }
 catch (        Throwable e) {
          return e;
        }
 finally {
          taskLifecycleService.onPostExecute(getCommand().getCallable());
          cancellationService.unregister(getCommand().getUUID());
          notifyDone();
        }
      }
    }
;
    final FutureTask<Object> task=new FutureTask<Object>(call);
    setNetworkFuture((Future<V>)task);
    localExecutorService.submit(task);
  }
 catch (  Throwable e1) {
    log.localExecutionFailed(e1);
  }
}
