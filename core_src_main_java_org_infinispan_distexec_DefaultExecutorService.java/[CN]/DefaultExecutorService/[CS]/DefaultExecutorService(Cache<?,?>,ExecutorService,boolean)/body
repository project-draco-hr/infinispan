{
  super();
  if (masterCacheNode == null)   throw new IllegalArgumentException("Can not use null cache for DefaultExecutorService");
 else   if (localExecutorService == null)   throw new IllegalArgumentException("Can not use null instance of ExecutorService");
 else   if (localExecutorService.isShutdown())   throw new IllegalArgumentException("Can not use an instance of ExecutorService which is shutdown");
  ensureAccessPermissions(masterCacheNode.getAdvancedCache());
  ensureProperCacheState(masterCacheNode.getAdvancedCache());
  this.cache=masterCacheNode.getAdvancedCache();
  ComponentRegistry registry=SecurityActions.getCacheComponentRegistry(cache);
  this.rpc=SecurityActions.getCacheRpcManager(cache);
  this.invoker=registry.getComponent(InterceptorChain.class);
  this.factory=registry.getComponent(CommandsFactory.class);
  this.marshaller=registry.getComponent(StreamingMarshaller.class,CACHE_MARSHALLER);
  this.cancellationService=registry.getComponent(CancellationService.class);
  this.localExecutorService=localExecutorService;
  this.takeExecutorOwnership=takeExecutorOwnership;
  this.timeService=registry.getTimeService();
  this.clusterDependentLogic=registry.getComponent(ClusteringDependentLogic.class);
}
