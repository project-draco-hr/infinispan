{
  super();
  if (masterCacheNode == null)   throw new NullPointerException("Can not use " + masterCacheNode + " cache for DefaultExecutorService");
  ensureProperCacheState(masterCacheNode.getAdvancedCache());
  this.cache=masterCacheNode.getAdvancedCache();
  this.rpc=cache.getRpcManager();
  this.invoker=cache.getComponentRegistry().getComponent(InterceptorChain.class);
  this.factory=cache.getComponentRegistry().getComponent(CommandsFactory.class);
}
