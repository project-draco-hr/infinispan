{
  log.debugf("Sending %s to self",future);
  try {
    Callable<Object> call=new Callable<Object>(){
      @Override public Object call() throws Exception {
        Object result=null;
        future.getCommand().init(cache);
        DistributedTaskLifecycleService taskLifecycleService=DistributedTaskLifecycleService.getInstance();
        try {
          taskLifecycleService.onPreExecute(future.getCommand().getCallable(),cache);
          result=future.getCommand().perform(null);
          return Collections.singletonMap(rpc.getAddress(),SuccessfulResponse.create(result));
        }
 catch (        Throwable e) {
          return e;
        }
 finally {
          taskLifecycleService.onPostExecute(future.getCommand().getCallable());
          future.notifyDone();
        }
      }
    }
;
    final FutureTask<Object> task=new FutureTask<Object>(call);
    future.setNetworkFuture((Future<T>)task);
    localExecutorService.submit(task);
  }
 catch (  Throwable e1) {
    log.localExecutionFailed(e1);
  }
}
