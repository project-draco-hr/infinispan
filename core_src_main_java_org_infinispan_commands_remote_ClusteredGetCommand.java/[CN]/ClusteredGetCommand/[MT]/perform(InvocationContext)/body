{
  if (distributionManager != null && distributionManager.isAffectedByRehash(key))   return null;
  Set<Flag> commandFlags=EnumSet.of(Flag.SKIP_REMOTE_LOOKUP);
  if (this.flags != null)   commandFlags.addAll(this.flags);
  GetKeyValueCommand command=commandsFactory.buildGetKeyValueCommand(key,commandFlags);
  command.setReturnCacheEntry(true);
  InvocationContext invocationContext=icc.createRemoteInvocationContextForCommand(command,getOrigin());
  CacheEntry cacheEntry=(CacheEntry)invoker.invoke(invocationContext,command);
  if (cacheEntry == null) {
    if (trace)     log.trace("Did not find anything, returning null");
    return null;
  }
  if (cacheEntry instanceof MVCCEntry) {
    if (trace)     log.trace("Handloing an internal cache entry...");
    MVCCEntry mvccEntry=(MVCCEntry)cacheEntry;
    return InternalEntryFactory.createValue(mvccEntry.getValue(),-1,mvccEntry.getLifespan(),-1,mvccEntry.getMaxIdle());
  }
 else {
    InternalCacheEntry internalCacheEntry=(InternalCacheEntry)cacheEntry;
    return internalCacheEntry.toInternalCacheValue();
  }
}
