{
  if (shutdown) {
    throw new RejectedExecutionException("Executor Service is already shutdown");
  }
  if (runnable.isReady()) {
    doExecute(runnable);
  }
 else {
    blockedTasks.offer(runnable);
    boolean checkPendingTasks;
synchronized (blockedTasks) {
      checkPendingTasks=runnable.isReady();
    }
    if (checkPendingTasks) {
      checkForReadyTasks();
    }
  }
  if (log.isTraceEnabled()) {
    log.tracef("Added a new task: %s task(s) are waiting",blockedTasks.size());
  }
}
