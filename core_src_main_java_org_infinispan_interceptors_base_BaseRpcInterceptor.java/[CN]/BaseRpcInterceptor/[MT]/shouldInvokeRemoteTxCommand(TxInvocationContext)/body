{
  if (!ctx.isOriginLocal()) {
    return false;
  }
  LocalTxInvocationContext localCtx=(LocalTxInvocationContext)ctx;
  boolean shouldInvokeRemotely=ctx.hasModifications() || !localCtx.getRemoteLocksAcquired().isEmpty() || localCtx.getCacheTransaction().getTopologyId() != rpcManager.getTopologyId();
  if (getLog().isTraceEnabled()) {
    getLog().tracef("Should invoke remotely? %b. hasModifications=%b, hasRemoteLocksAcquired=%b",shouldInvokeRemotely,ctx.hasModifications(),!localCtx.getRemoteLocksAcquired().isEmpty());
  }
  return shouldInvokeRemotely;
}
