{
  DirectoryProvider directoryProvider=nrti.getDirectoryProvider();
  Assert.assertTrue(directoryProvider instanceof InfinispanDirectoryProvider);
  InfinispanDirectoryProvider ispn=(InfinispanDirectoryProvider)directoryProvider;
  InfinispanDirectory infinispanDirectory=ispn.getDirectory();
  int chunkSize=extractFieldfromInfinispanDirectory("chunkSize").getInt(infinispanDirectory);
  Assert.assertEquals(chunkSize,expectedChunkSize);
  AdvancedCache metadataCache=(AdvancedCache)extractFieldfromInfinispanDirectory("metadataCache").get(infinispanDirectory);
  Assert.assertEquals(metadataCache.getName(),"LuceneIndexesMetadataOWR");
  AdvancedCache chunksCache=(AdvancedCache)extractFieldfromInfinispanDirectory("chunksCache").get(infinispanDirectory);
  Assert.assertEquals(chunksCache.getName(),"LuceneIndexesDataOWR");
  Assert.assertTrue(chunksCache.getCacheManager() == embeddedCacheManager);
}
