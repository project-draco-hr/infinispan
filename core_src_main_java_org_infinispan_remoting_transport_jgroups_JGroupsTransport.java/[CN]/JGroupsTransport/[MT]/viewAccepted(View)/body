{
  Vector<org.jgroups.Address> newMembers=newView.getMembers();
  List<Address> oldMembers=null;
  Notify notify=null;
  if (newView instanceof MergeView) {
    if (log.isInfoEnabled())     log.receivedMergedView(newView);
    if (notifier != null)     notify=new NotifyMerge();
  }
 else {
    if (log.isInfoEnabled())     log.receivedClusterView(newView);
    if (notifier != null)     notify=new NotifyViewChange();
  }
synchronized (membersListLock) {
    boolean needNotification=false;
    if (newMembers != null) {
      oldMembers=members;
      members=fromJGroupsAddressList(newMembers);
      needNotification=true;
    }
    coordinator=(members != null && !members.isEmpty() && members.get(0).equals(getAddress()));
    if (needNotification && notify != null)     notify.emitNotification(oldMembers,newView);
    membersListLock.notifyAll();
  }
}
