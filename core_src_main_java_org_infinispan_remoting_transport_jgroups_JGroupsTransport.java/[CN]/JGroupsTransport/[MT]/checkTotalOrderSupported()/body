{
  if (channel.getProtocolStack().findProtocol(TOA.class) == null) {
    throw new CacheConfigurationException("In order to support total order based transaction, the TOA protocol " + "must be present in the JGroups's config.");
  }
}
