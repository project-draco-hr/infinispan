{
  try {
    if (stopChannel && channel != null && channel.isOpen()) {
      log.info("Disconnecting and closing JGroups Channel");
      channel.disconnect();
      channel.close();
    }
  }
 catch (  Exception toLog) {
    log.error("Problem closing channel; setting it to null",toLog);
  }
  channel=null;
  if (dispatcher != null) {
    log.info("Stopping the RpcDispatcher");
    dispatcher.stop();
  }
  members=Collections.emptyList();
  coordinator=false;
  dispatcher=null;
}
