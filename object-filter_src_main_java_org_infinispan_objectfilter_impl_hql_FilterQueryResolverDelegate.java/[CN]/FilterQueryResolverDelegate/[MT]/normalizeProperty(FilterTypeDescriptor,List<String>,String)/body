{
  if (!type.hasProperty(propertyName)) {
    throw log.getNoSuchPropertyException(type.toString(),propertyName);
  }
  List<String> newPath=new LinkedList<>(path);
  newPath.add(propertyName);
  TypeDescriptor propType;
  if (type.hasEmbeddedProperty(propertyName)) {
    propType=new FilterEmbeddedEntityTypeDescriptor(type.getEntityType(),newPath,propertyHelper);
  }
 else {
    propType=new FilterPropertyTypeDescriptor();
  }
  return new PathedPropertyReference(propertyName,propType,false);
}
