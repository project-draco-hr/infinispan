{
  if (!type.hasProperty(propertyName)) {
    throw log.getNoSuchPropertyException(type.toString(),propertyName);
  }
  if (type.hasEmbeddedProperty(propertyName)) {
    List<String> newPath=new LinkedList<String>(path);
    newPath.add(propertyName);
    return new PathedPropertyReference(propertyName,new FilterEmbeddedEntityTypeDescriptor(type.getEntityType(),newPath,propertyHelper),false);
  }
  return new PathedPropertyReference(propertyName,new FilterPropertyTypeDescriptor(),false);
}
