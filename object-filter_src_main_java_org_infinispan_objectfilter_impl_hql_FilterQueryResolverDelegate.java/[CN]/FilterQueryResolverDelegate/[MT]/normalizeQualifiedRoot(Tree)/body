{
  String entityNameForAlias=aliasToEntityType.get(root.getText());
  if (entityNameForAlias == null) {
    throw log.getUnknownAliasException(root.getText());
  }
  if (entityNamesResolver.getClassFromName(entityNameForAlias) == null) {
    throw new IllegalStateException("Unknown entity name " + entityNameForAlias);
  }
  return new PathedPropertyReference(root.getText(),new FilterEntityTypeDescriptor(entityNameForAlias,propertyHelper),true);
}
