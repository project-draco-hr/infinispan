{
  if (trace)   log.tracef("Transaction %s has completed, notifying listening threads.",tx);
  txComplete=true;
  if (needToNotifyWaiters) {
synchronized (this) {
      txComplete=true;
      this.notifyAll();
    }
  }
}
