{
  if (txComplete)   return true;
  final boolean potentiallyLocked=hasLockOrIsLockBackup(key);
  if (trace)   log.tracef("Transaction gtx=%s potentially locks key %s? %s",tx,key,potentiallyLocked);
  if (potentiallyLocked) {
synchronized (this) {
      needToNotifyWaiters=true;
      if (txComplete) {
        needToNotifyWaiters=false;
        return true;
      }
      this.wait(lockAcquisitionTimeout);
      return txComplete;
    }
  }
  return true;
}
