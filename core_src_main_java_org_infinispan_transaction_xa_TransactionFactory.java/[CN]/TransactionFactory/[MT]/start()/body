{
  boolean dldEnabled=configuration.isDeadlockDetectionEnabled();
  boolean xa=!configuration.isUseSynchronizationForTransactions();
  boolean recoveryEnabled=configuration.isTransactionRecoveryEnabled();
  init(dldEnabled,recoveryEnabled,xa);
  isClustered=configuration.getCacheMode().isClustered();
  if (recoveryEnabled) {
    Transport transport=rpcManager != null ? rpcManager.getTransport() : null;
    clusterIdGenerator=new ClusterIdGenerator(cm,transport);
  }
}
