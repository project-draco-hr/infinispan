{
  int originalQueueSize=evictionQueue.size();
  for (Iterator<Object> it=evictionQueue.iterator(); it.hasNext(); ) {
    Object key=it.next();
    if (key != null && needToEvict(originalQueueSize)) {
      if (shouldNotOverrideEviction(key) && isNotMarkedInUse(key)) {
        evictOrRecycle(key);
        it.remove();
      }
    }
 else {
      break;
    }
  }
}
