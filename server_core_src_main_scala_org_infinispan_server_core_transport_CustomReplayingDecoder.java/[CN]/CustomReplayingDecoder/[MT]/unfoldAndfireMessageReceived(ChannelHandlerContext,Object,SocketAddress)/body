{
  if (unfold) {
    if (result instanceof Object[]) {
      for (      Object r : (Object[])result) {
        Channels.fireMessageReceived(context,r,remoteAddress);
      }
    }
 else     if (result instanceof Iterable<?>) {
      for (      Object r : (Iterable<?>)result) {
        Channels.fireMessageReceived(context,r,remoteAddress);
      }
    }
 else {
      Channels.fireMessageReceived(context,result,remoteAddress);
    }
  }
 else {
    Channels.fireMessageReceived(context,result,remoteAddress);
  }
}
