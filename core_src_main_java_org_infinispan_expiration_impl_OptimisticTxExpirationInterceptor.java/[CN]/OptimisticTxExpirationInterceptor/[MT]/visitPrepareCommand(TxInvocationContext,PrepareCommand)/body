{
  for (  WriteCommand cmd : command.getModifications()) {
    cmd.acceptVisitor(ctx,registerInterceptor);
  }
  try {
    return super.visitPrepareCommand(ctx,command);
  }
  finally {
    for (    WriteCommand cmd : command.getModifications()) {
      cmd.acceptVisitor(ctx,unregisterInterceptor);
    }
  }
}
