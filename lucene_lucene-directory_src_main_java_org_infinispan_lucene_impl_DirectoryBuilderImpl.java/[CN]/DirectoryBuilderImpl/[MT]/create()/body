{
  if (lockFactory == null) {
    lockFactory=makeDefaultLockFactory(distLocksCache,indexName);
  }
  if (srl == null) {
    srl=makeDefaultSegmentReadLocker(metadataCache,chunksCache,distLocksCache,indexName);
  }
  return new DirectoryLuceneV4(metadataCache,chunksCache,indexName,lockFactory,chunkSize,srl,writeFileListAsync);
}
