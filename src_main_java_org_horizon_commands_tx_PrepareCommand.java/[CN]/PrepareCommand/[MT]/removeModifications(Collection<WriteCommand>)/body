{
  if (modifications != null && modificationsToRemove != null && modificationsToRemove.size() > 0) {
    Set<WriteCommand> toRemove=new HashSet<WriteCommand>(modificationsToRemove);
    WriteCommand[] newMods=new WriteCommand[modifications.length - modificationsToRemove.size()];
    int i=0;
    for (    WriteCommand c : modifications) {
      if (toRemove.contains(c)) {
        toRemove.remove(c);
      }
 else {
        newMods[i++]=c;
      }
    }
    modifications=newMods;
  }
}
