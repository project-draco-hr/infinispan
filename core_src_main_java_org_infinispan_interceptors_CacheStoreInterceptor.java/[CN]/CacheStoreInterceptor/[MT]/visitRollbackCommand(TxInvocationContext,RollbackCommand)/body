{
  if (!skip(ctx,command)) {
    if (getLog().isTraceEnabled())     getLog().trace("transactional so don't put stuff in the cloader yet.");
    if (ctx.hasModifications()) {
      GlobalTransaction tx=ctx.getGlobalTransaction();
      if (preparingTxs.containsKey(tx)) {
        preparingTxs.remove(tx);
        store.rollback(tx);
      }
      if (getStatisticsEnabled())       txStores.remove(tx);
    }
 else {
      if (getLog().isTraceEnabled())       getLog().trace("Rollback called with no modifications; ignoring.");
    }
  }
  return invokeNextInterceptor(ctx,command);
}
