{
  if (!skip(ctx)) {
    if (getLog().isTraceEnabled())     getLog().trace("Transactional so don't put stuff in the cache store yet.");
    if (!ctx.getCacheTransaction().getAllModifications().isEmpty()) {
      GlobalTransaction tx=ctx.getGlobalTransaction();
      if (preparingTxs.containsKey(tx)) {
        preparingTxs.remove(tx);
        store.rollback(tx);
      }
      if (getStatisticsEnabled())       txStores.remove(tx);
    }
 else {
      if (getLog().isTraceEnabled())       getLog().trace("Rollback called with no modifications; ignoring.");
    }
  }
  return invokeNextInterceptor(ctx,command);
}
