{
  if (!skip(ctx,command)) {
    if (trace)     log.trace("transactional so don't put stuff in the cloader yet.");
    if (ctx.hasModifications()) {
      Transaction tx=ctx.getRunningTransaction();
      if (preparingTxs.containsKey(tx)) {
        preparingTxs.remove(tx);
        store.rollback(tx);
      }
      if (getStatisticsEnabled())       txStores.remove(tx);
    }
 else {
      if (trace)       log.trace("Rollback called with no modifications; ignoring.");
    }
  }
  return invokeNextInterceptor(ctx,command);
}
