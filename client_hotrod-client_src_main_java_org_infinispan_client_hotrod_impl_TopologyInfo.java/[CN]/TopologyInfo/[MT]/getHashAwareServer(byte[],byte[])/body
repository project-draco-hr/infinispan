{
  Optional<SocketAddress> server=Optional.empty();
  if (isTopologyValid(cacheName)) {
    ConsistentHash consistentHash=consistentHashes.get(cacheName);
    if (consistentHash != null) {
      server=Optional.of(consistentHash.getServer(key));
      if (log.isTraceEnabled()) {
        log.tracef("Using consistent hash for determining the server: " + server);
      }
    }
    return server;
  }
  return Optional.empty();
}
