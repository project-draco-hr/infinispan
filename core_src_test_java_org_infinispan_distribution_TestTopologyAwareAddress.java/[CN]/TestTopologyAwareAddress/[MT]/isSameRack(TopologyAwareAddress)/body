{
  if (!isSameSite(addr))   return false;
  return rackId != null ? rackId.equals(addr.getRackId()) : addr.getRackId() == null;
}
