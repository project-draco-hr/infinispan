{
  if (lockManager.lockAndRecord(key,ctx)) {
    return true;
  }
 else {
    Object owner=lockManager.getOwner(key);
    if (key instanceof MarshalledValue) {
      key=((MarshalledValue)key).get();
    }
    throw new TimeoutException(String.format("Unable to acquire lock after [%d] on key [%s] for requestor [%s]! Lock held by [%s]",cfg.getLockAcquisitionTimeout(),key,ctx.getLockOwner(),owner));
  }
}
