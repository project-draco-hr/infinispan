{
  Map<KOut,List<VOut>> lrus=Collections.emptyMap();
synchronized (this) {
    Iterator<KOut> iterator=store.keySet().iterator();
    if (iterator.hasNext()) {
      KOut out=iterator.next();
      List<VOut> list=store.remove(out);
      lrus=Collections.singletonMap(out,list);
      emitCount.addAndGet(-list.size());
    }
  }
  return lrus;
}
