{
  GenericData.Array<T> avroArray=(GenericData.Array<T>)new GenericDatumReader(schema).read(null,decoder);
  List<T> list=new ArrayList<T>((int)avroArray.size());
  for (  T t : avroArray)   list.add(t);
  T[] array=(T[])Array.newInstance(type,list.size());
  return toArray(list,array);
}
