{
  Predicate<AttributeDomain> predicate=subscription.getPredicateNode().getPredicate();
  if (predicate.getInterval() != null) {
    if (orderedPredicates != null) {
      IntervalTree.Node<AttributeDomain,Subscriptions> n=orderedPredicates.findNode(predicate.getInterval());
      if (n != null) {
        n.value.remove(subscription);
        if (n.value.subscriptions.isEmpty()) {
          orderedPredicates.remove(n);
        }
      }
 else {
        throwIllegalStateException();
      }
    }
 else {
      throwIllegalStateException();
    }
  }
 else {
    if (unorderedPredicates != null) {
      Subscriptions subscriptions=unorderedPredicates.get(predicate);
      if (subscriptions != null) {
        subscriptions.remove(subscription);
        if (subscriptions.subscriptions.isEmpty()) {
          unorderedPredicates.remove(predicate);
        }
      }
 else {
        throwIllegalStateException();
      }
    }
 else {
      throwIllegalStateException();
    }
  }
}
