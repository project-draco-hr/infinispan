{
  Subscriptions subscriptions;
  Predicate<AttributeDomain> predicate=subscription.getPredicateNode().getPredicate();
  if (predicate.getInterval() != null) {
    if (orderedPredicates == null) {
      orderedPredicates=new IntervalTree<AttributeDomain,Subscriptions>(new ComparableComparator());
    }
    IntervalTree.Node<AttributeDomain,Subscriptions> n=orderedPredicates.add(predicate.getInterval());
    if (n.value == null) {
      subscriptions=new Subscriptions(predicate);
      n.value=subscriptions;
    }
 else {
      subscriptions=n.value;
    }
  }
 else {
    subscriptions=null;
    if (unorderedPredicates == null) {
      unorderedPredicates=new ArrayList<Subscriptions>();
    }
 else {
      for (int i=0; i < unorderedPredicates.size(); i++) {
        Subscriptions s=unorderedPredicates.get(i);
        if (s.predicate.equals(predicate)) {
          subscriptions=s;
          break;
        }
      }
    }
    if (subscriptions == null) {
      subscriptions=new Subscriptions(predicate);
      unorderedPredicates.add(subscriptions);
    }
  }
  subscriptions.add(subscription);
}
