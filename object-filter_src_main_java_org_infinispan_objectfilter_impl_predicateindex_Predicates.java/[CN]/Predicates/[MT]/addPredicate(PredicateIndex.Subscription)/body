{
  Subscriptions subscriptions;
  Predicate<AttributeDomain> predicate=subscription.getPredicateNode().getPredicate();
  if (predicate.getInterval() != null) {
    if (orderedPredicates == null) {
      orderedPredicates=new IntervalTree<AttributeDomain,Subscriptions>(new ComparableComparator());
    }
    IntervalTree.Node<AttributeDomain,Subscriptions> n=orderedPredicates.add(predicate.getInterval());
    if (n.value == null) {
      subscriptions=new Subscriptions(predicate);
      n.value=subscriptions;
    }
 else {
      subscriptions=n.value;
    }
  }
 else {
    if (unorderedPredicates == null) {
      unorderedPredicates=new HashMap<Predicate<AttributeDomain>,Subscriptions>();
    }
    subscriptions=unorderedPredicates.get(predicate);
    if (subscriptions == null) {
      subscriptions=new Subscriptions(predicate);
      unorderedPredicates.put(predicate,subscriptions);
    }
  }
  subscriptions.add(subscription);
}
