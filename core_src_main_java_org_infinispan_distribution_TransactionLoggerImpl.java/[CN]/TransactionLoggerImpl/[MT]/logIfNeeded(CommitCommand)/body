{
  if (enabled) {
    loggingLock.readLock().lock();
    try {
      if (enabled) {
        PrepareCommand pc=uncommittedPrepares.remove(command.getGlobalTransaction());
        for (        WriteCommand wc : pc.getModifications())         try {
          commandQueue.put(wc);
        }
 catch (        InterruptedException e) {
          Thread.currentThread().interrupt();
        }
      }
    }
  finally {
      loggingLock.readLock().unlock();
    }
  }
}
