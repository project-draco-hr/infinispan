{
  if (ctx.isInTxScope())   return;
  if (!ctx.hasFlag(Flag.SKIP_LOCKING))   txLock.readLock().unlock();
  if (loggingEnabled && command.isSuccessful()) {
    commandQueue.put(command);
  }
}
