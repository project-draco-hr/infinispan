{
  txLock.readLock().lock();
  if (loggingEnabled) {
    GlobalTransaction gtx;
    if (!uncommittedPrepares.containsKey(gtx=context.getGlobalTransaction()))     uncommittedPrepares.put(gtx,cf.buildPrepareCommand(gtx,context.getModifications(),false));
  }
}
