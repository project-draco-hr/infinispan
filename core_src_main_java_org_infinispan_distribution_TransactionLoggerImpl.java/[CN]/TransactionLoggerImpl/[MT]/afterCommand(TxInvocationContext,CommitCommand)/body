{
  if (!ctx.hasFlag(Flag.SKIP_LOCKING))   txLock.readLock().unlock();
  if (loggingEnabled) {
    PrepareCommand pc=uncommittedPrepares.remove(command.getGlobalTransaction());
    if (pc == null)     logModifications(ctx.getModifications());
 else     logModificationsInTransaction(pc);
  }
}
