{
  int numEntries=10000;
  for (int i=0; i < numEntries; ++i) {
    InternalCacheEntry ice=TestInternalCacheEntryFactory.create(key(i),"value" + i);
    store.write(new MarshalledEntryImpl(ice.getKey(),ice.getValue(),internalMetadata(ice),getMarshaller()));
  }
  System.out.println("Loaded all entries");
  for (int i=0; i < numEntries; ++i) {
    if (!store.delete(key(i))) {
      AssertJUnit.fail("Key " + key(i) + " not found");
    }
  }
  store.clear();
  for (int i=0; i < numEntries; ++i) {
    InternalCacheEntry ice=TestInternalCacheEntryFactory.create(key(i),"value" + i);
    store.write(new MarshalledEntryImpl(ice.getKey(),ice.getValue(),internalMetadata(ice),getMarshaller()));
  }
  for (int i=numEntries - 1; i >= 0; --i) {
    if (!store.delete(key(i))) {
      AssertJUnit.fail("Key " + key(i) + " not found");
    }
  }
}
