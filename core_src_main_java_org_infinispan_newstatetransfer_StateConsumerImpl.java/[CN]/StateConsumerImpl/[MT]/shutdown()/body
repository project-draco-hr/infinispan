{
synchronized (this) {
    for (Iterator<Address> it=transfersBySource.keySet().iterator(); it.hasNext(); ) {
      Address source=it.next();
      List<InboundTransferTask> inboundTransfers=transfersBySource.get(source);
      it.remove();
      for (      InboundTransferTask inboundTransfer : inboundTransfers) {
        inboundTransfer.cancel();
      }
    }
    transfersBySource.clear();
    transfersBySegment.clear();
  }
}
