{
  cmdExt.writeCommandHeader(output,command);
  String cacheName=command.getCacheName();
  output.writeUTF(cacheName);
  StreamingMarshaller marshaller=getCacheMarshaller(cacheName);
  ExposedByteArrayOutputStream os=marshallParameters(command,marshaller);
  UnsignedNumeric.writeUnsignedInt(output,os.size());
  output.write(os.getRawBuffer(),0,os.size());
  if (command instanceof TopologyAffectedCommand) {
    output.writeInt(((TopologyAffectedCommand)command).getTopologyId());
  }
}
