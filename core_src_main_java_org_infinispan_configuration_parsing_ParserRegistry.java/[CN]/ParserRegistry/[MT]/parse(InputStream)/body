{
  try {
    BufferedInputStream input=new BufferedInputStream(is);
    XMLStreamReader streamReader=XMLInputFactory.newInstance().createXMLStreamReader(input);
    ConfigurationBuilderHolder holder=new ConfigurationBuilderHolder(cl.get());
    xmlMapper.parseDocument(holder,streamReader);
    streamReader.close();
    for (    ParserContext parserContext : holder.getParserContexts().values()) {
      parserContext.fireParsingComplete();
    }
    return holder;
  }
 catch (  ConfigurationException e) {
    throw e;
  }
catch (  Exception e) {
    throw new ConfigurationException(e);
  }
}
