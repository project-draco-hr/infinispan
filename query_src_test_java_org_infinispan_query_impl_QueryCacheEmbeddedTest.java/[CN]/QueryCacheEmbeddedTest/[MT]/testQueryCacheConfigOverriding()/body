{
  ConfigurationBuilder queryCacheConfigBuilder=getDefaultStandaloneCacheConfig(true);
  queryCacheConfigBuilder.clustering().cacheMode(CacheMode.LOCAL).transaction().transactionMode(TransactionMode.NON_TRANSACTIONAL).expiration().maxIdle(777777,TimeUnit.MILLISECONDS).eviction().maxEntries(42).strategy(EvictionStrategy.LIRS);
  cacheManager.defineConfiguration(QueryCache.QUERY_CACHE_NAME,queryCacheConfigBuilder.build());
  QueryCache queryCache=TestingUtil.extractGlobalComponent(cacheManager,QueryCache.class);
  queryCache.get(new KeyValuePair<String,Class>("dontcare",Void.class));
  Cache internalQueryCache=TestingUtil.extractField(queryCache,"lazyCache");
  assertEquals(777777,internalQueryCache.getCacheConfiguration().expiration().maxIdle());
  assertEquals(42,internalQueryCache.getCacheConfiguration().eviction().maxEntries());
}
