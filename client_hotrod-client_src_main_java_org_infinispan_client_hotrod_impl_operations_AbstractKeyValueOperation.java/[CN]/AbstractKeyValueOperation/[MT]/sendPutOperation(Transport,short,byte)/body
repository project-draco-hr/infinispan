{
  HeaderParams params=writeHeader(transport,opCode);
  transport.writeArray(key);
  codec.writeExpirationParams(transport,lifespan,lifespanTimeUnit,maxIdle,maxIdleTimeUnit);
  transport.writeArray(value);
  transport.flush();
  return readHeaderAndValidate(transport,params);
}
