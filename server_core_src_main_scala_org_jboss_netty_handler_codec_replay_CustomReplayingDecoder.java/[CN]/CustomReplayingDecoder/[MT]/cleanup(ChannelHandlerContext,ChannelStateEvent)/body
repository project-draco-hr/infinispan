{
  try {
    ChannelBuffer cumulation=this.cumulation.getAndSet(null);
    if (cumulation == null) {
      return;
    }
    replayable.terminate();
    if (cumulation.readable()) {
      callDecode(ctx,e.getChannel(),cumulation,null);
    }
    Object partiallyDecoded=decodeLast(ctx,e.getChannel(),replayable,state);
    if (partiallyDecoded != null) {
      unfoldAndfireMessageReceived(ctx,partiallyDecoded,null);
    }
  }
 catch (  ReplayError replay) {
  }
 finally {
    ctx.sendUpstream(e);
  }
}
