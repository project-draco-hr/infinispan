{
  ChannelBuffer buf=cumulation.get();
  if (buf == null) {
    ChannelBufferFactory factory=ctx.getChannel().getConfig().getBufferFactory();
    buf=createUnsafeDynamicChannelBuffer(factory);
    if (cumulation.compareAndSet(null,buf)) {
      replayable=createReplayingDecoderBuffer(buf);
    }
 else {
      buf=cumulation.get();
    }
  }
  return buf;
}
