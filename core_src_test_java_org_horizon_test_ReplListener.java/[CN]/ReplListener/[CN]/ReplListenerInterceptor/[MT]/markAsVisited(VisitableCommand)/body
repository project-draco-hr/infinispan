{
  if (expectedCommands != null) {
    expectedCommands.remove(cmd.getClass());
    if (expectedCommands.isEmpty())     latch.countDown();
  }
 else {
    System.out.println("Received unexpected command: " + cmd);
  }
}
