{
  if (running)   throw new IllegalStateException("State transfer has not finished, cannot commit");
  if (log.isDebugEnabled()) {
    log.debugf("Node %s completed state transfer for view %d in %s!",self,newViewId,Util.prettyPrintTime(System.nanoTime() - stateTransferStartNanos,TimeUnit.NANOSECONDS));
  }
}
