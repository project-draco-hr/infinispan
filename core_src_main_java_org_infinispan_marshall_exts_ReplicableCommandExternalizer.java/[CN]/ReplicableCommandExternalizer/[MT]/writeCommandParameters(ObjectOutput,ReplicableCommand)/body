{
  DeltaAwareObjectOutput deltaAwareObjectOutput=output instanceof DeltaAwareObjectOutput ? (DeltaAwareObjectOutput)output : new DeltaAwareObjectOutput(output);
  Object[] args=command.getParameters();
  int numArgs=(args == null ? 0 : args.length);
  UnsignedNumeric.writeUnsignedInt(output,numArgs);
  for (int i=0; i < numArgs; i++) {
    deltaAwareObjectOutput.writeObject(args[i]);
  }
  command.writeTo(deltaAwareObjectOutput);
  if (command instanceof TopologyAffectedCommand) {
    output.writeInt(((TopologyAffectedCommand)command).getTopologyId());
  }
}
