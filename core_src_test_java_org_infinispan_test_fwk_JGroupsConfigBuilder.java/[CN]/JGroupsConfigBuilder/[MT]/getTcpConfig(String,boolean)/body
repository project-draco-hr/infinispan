{
  String config=new String(tcpConfig);
  if (!withFD)   config=removeFailureDetectionTcp(config);
  if (config.contains("TCPPING")) {
    return getTcpConfigWithTCPPINGDiscovery(config);
  }
  if (config.contains("TEST_PING")) {
    String cfg=replaceTcpStartPort(config,threadTcpStartPort.get());
    if (fullTestName == null)     return cfg;
 else     return getTestPingDiscovery(fullTestName,cfg);
  }
 else {
    return replaceMCastAddressAndPort(config);
  }
}
