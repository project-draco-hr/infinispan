{
  EventLogListener<Integer> eventListener=new EventLogListener<>(true);
  Cache<Integer,String> embedded=cacheFactory.getEmbeddedCache();
  RemoteCache<Integer,String> remote=cacheFactory.getHotRodCache();
  remote.put(1,"one");
  assertEquals("one",embedded.get(1));
  remote.put(2,"two");
  assertEquals("two",embedded.get(2));
  remote.put(3,"three");
  assertEquals("three",embedded.get(3));
  remote.remove(3);
  assertNull(embedded.get(3));
  eventListener.expectNoEvents();
  remote.addClientListener(eventListener);
  try {
    eventListener.expectUnorderedEvents(ClientEvent.Type.CLIENT_CACHE_ENTRY_CREATED,1,2);
    remote.remove(1);
    eventListener.expectOnlyRemovedEvent(1,embedded);
    remote.remove(2);
    eventListener.expectOnlyRemovedEvent(2,embedded);
  }
  finally {
    remote.removeClientListener(eventListener);
  }
}
