{
  int retryCount=0;
  while (shouldRetry(retryCount)) {
    Transport transport=getTransport(retryCount);
    try {
      return executeOperation(transport);
    }
 catch (    TransportException te) {
      logErrorAndThrowExceptionIfNeeded(retryCount,te);
    }
 finally {
      releaseTransport(transport);
    }
    retryCount++;
  }
  throw new IllegalStateException("We should not reach here!");
}
