{
  if (ice.getClass().equals(ImmortalCacheEntry.class)) {
    out.writeByte(MAGICNUMBER_ICE_IMMORTAL);
    marshallObject(ice.getKey(),out,refMap);
    marshallObject(ice.getValue(),out,refMap);
  }
 else   if (ice.getClass().equals(MortalCacheEntry.class)) {
    out.writeByte(MAGICNUMBER_ICE_MORTAL);
    marshallObject(ice.getKey(),out,refMap);
    marshallObject(ice.getValue(),out,refMap);
    writeUnsignedLong(out,ice.getCreated());
    out.writeLong(ice.getLifespan());
  }
 else   if (ice.getClass().equals(TransientCacheEntry.class)) {
    out.writeByte(MAGICNUMBER_ICE_TRANSIENT);
    marshallObject(ice.getKey(),out,refMap);
    marshallObject(ice.getValue(),out,refMap);
    writeUnsignedLong(out,ice.getLastUsed());
    out.writeLong(ice.getMaxIdle());
  }
 else   if (ice.getClass().equals(TransientMortalCacheEntry.class)) {
    out.writeByte(MAGICNUMBER_ICE_TRANSIENT_MORTAL);
    marshallObject(ice.getKey(),out,refMap);
    marshallObject(ice.getValue(),out,refMap);
    writeUnsignedLong(out,ice.getCreated());
    out.writeLong(ice.getLifespan());
    writeUnsignedLong(out,ice.getLastUsed());
    out.writeLong(ice.getMaxIdle());
  }
}
