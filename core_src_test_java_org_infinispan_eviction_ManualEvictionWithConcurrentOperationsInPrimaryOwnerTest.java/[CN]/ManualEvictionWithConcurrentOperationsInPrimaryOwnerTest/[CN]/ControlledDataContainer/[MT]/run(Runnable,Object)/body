{
  if (runnable == null) {
    return;
  }
  try {
    clusteringDependentLogic.unlock(key);
    runnable.run();
  }
  finally {
    try {
      if (!clusteringDependentLogic.lock(key,false)) {
        throw new RuntimeException("Not locked!");
      }
    }
 catch (    InterruptedException e) {
      Thread.currentThread().interrupt();
      throw new RuntimeException(e);
    }
  }
}
