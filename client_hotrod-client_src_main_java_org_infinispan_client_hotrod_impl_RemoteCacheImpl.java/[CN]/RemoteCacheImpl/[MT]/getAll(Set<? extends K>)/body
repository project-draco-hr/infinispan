{
  assertRemoteCacheManagerIsStarted();
  if (log.isTraceEnabled()) {
    log.tracef("About to getAll entries (%s)",keys);
  }
  Set<byte[]> byteKeys=new HashSet<>(keys.size());
  for (  K key : keys) {
    byteKeys.add(obj2bytes(key,true));
  }
  GetAllOperation op=operationsFactory.newGetAllOperation(byteKeys);
  Map<byte[],byte[]> result=op.execute();
  Map<K,V> toReturn=new HashMap<K,V>();
  for (  Map.Entry<byte[],byte[]> entry : result.entrySet()) {
    V value=MarshallerUtil.bytes2obj(marshaller,entry.getValue());
    K key=MarshallerUtil.bytes2obj(marshaller,entry.getKey());
    toReturn.put(key,value);
  }
  return Collections.unmodifiableMap(toReturn);
}
