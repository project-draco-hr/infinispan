{
  Object r=super.perform(ctx);
  MVCCEntry e=(MVCCEntry)ctx.lookupEntry(key);
  Object entryValue=e.getValue();
  if ((entryValue == null || !putIfAbsent || e.isRemoved()) && !(value instanceof Delta)) {
    e.setVersion(version);
  }
  return r;
}
