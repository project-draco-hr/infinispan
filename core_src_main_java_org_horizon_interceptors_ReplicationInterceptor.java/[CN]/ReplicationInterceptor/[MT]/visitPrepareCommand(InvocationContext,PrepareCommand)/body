{
  Object retVal=invokeNextInterceptor(ctx,command);
  TransactionContext transactionContext=ctx.getTransactionContext();
  if (transactionContext.hasLocalModifications()) {
    PrepareCommand replicablePrepareCommand=command.copy();
    replicablePrepareCommand.removeModifications(transactionContext.getLocalModifications());
    command=replicablePrepareCommand;
  }
  if (!skipReplicationOfTransactionMethod(ctx))   runPreparePhase(command,command.getGlobalTransaction(),ctx);
  return retVal;
}
