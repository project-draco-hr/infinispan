{
  Class<?> clazz=o.getClass();
  boolean containsMarshallable=marshallableTypeHints.containsMarshallable(clazz);
  if (containsMarshallable) {
    return marshallableTypeHints.isMarshallable(clazz);
  }
 else {
    if (isMarshallableCandidate(o)) {
      boolean isMarshallable=true;
      try {
        objectToBuffer(o);
      }
 catch (      Exception e) {
        isMarshallable=false;
        throw e;
      }
 finally {
        marshallableTypeHints.markMarshallable(clazz,isMarshallable);
      }
      return isMarshallable;
    }
    return false;
  }
}
