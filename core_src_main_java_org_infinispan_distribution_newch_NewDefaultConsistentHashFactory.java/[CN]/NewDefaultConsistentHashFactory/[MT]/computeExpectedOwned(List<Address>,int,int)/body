{
  int numNodes=nodes.size();
  Map<Address,Integer> expectedOwned=new HashMap<Address,Integer>(numNodes);
  for (int i=0; i < numNodes; i++) {
    if (i < (numSegments * numOwners) % numNodes) {
      expectedOwned.put(nodes.get(i),numSegments * numOwners / numNodes + 1);
    }
 else {
      expectedOwned.put(nodes.get(i),numSegments * numOwners / numNodes);
    }
  }
  return expectedOwned;
}
