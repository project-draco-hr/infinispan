{
  this.stateTransferLock=stateTransferLock;
  this.commandFactory=commandFactory;
  this.stateTransferManager=stateTransferManager;
  useVersioning=configuration.transaction().transactionMode().isTransactional() && configuration.locking().writeSkewCheck() && configuration.transaction().lockingMode() == LockingMode.OPTIMISTIC && configuration.versioning().enabled();
}
