{
  this.stateTransferLock=stateTransferLock;
  this.rpcManager=rpcManager;
  this.commandFactory=commandFactory;
  this.stateTransferManager=stateTransferManager;
  rpcTimeout=configuration.clustering().cacheMode().isSynchronous() ? configuration.clustering().sync().replTimeout() : 0;
  useVersioning=configuration.transaction().transactionMode().isTransactional() && configuration.locking().writeSkewCheck() && configuration.transaction().lockingMode() == LockingMode.OPTIMISTIC && configuration.versioning().enabled();
}
