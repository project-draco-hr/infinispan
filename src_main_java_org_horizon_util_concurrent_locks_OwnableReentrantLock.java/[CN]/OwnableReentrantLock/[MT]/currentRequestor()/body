{
  GlobalTransaction gtx;
  return (gtx=invocationContextContainer.get().getGlobalTransaction()) == null ? Thread.currentThread() : gtx;
}
