{
  if (!isClosed()) {
    ArrayList<JCache<?,?>> cacheList;
synchronized (caches) {
      cacheList=new ArrayList<JCache<?,?>>(caches.values());
      caches.clear();
    }
    for (    JCache<?,?> cache : cacheList) {
      try {
        cache.close();
        unregisterCacheMBeans(cache);
      }
 catch (      Exception e) {
      }
    }
    cm.stop();
    isClosed=true;
  }
}
