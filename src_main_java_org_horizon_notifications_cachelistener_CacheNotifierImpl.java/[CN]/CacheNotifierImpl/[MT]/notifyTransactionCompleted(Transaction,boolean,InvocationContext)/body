{
  if (!transactionCompletedListeners.isEmpty()) {
    boolean isOriginLocal=ctx.isOriginLocal();
    InvocationContext backup=resetInvocationContext(ctx);
    EventImpl e=new EventImpl();
    e.setCache(cache);
    e.setOriginLocal(isOriginLocal);
    e.setTransaction(transaction);
    e.setTransactionSuccessful(successful);
    e.setType(TRANSACTION_COMPLETED);
    for (    ListenerInvocation listener : transactionCompletedListeners)     listener.invoke(e);
    restoreInvocationContext(backup);
  }
}
