{
  final LockFactory lockFactory=getLockFactory();
  final Lock lock=lockFactory.makeLock(IndexWriter.WRITE_LOCK_NAME);
  try {
    if (!lock.isLocked()) {
      return true;
    }
 else {
      try {
        final boolean obtained=lock.obtain(10000);
        if (obtained) {
          lock.close();
          return true;
        }
      }
 catch (      LockObtainFailedException lofe) {
        return false;
      }
    }
  }
 catch (  IOException e) {
    log.error(e);
    return false;
  }
  return false;
}
