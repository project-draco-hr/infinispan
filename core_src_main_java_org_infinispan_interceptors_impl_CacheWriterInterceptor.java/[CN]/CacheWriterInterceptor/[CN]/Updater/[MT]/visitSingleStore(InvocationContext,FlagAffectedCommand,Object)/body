{
  if (isProperWriter(ctx,command,key)) {
    if (generateStatistics)     putCount++;
    InternalCacheValue sv=entryFactory.getValueFromCtxOrCreateNew(key,ctx);
    MarshalledEntryImpl me=new MarshalledEntryImpl(key,sv.getValue(),internalMetadata(sv),marshaller);
    persistenceManager.writeToAllNonTxStores(me,command.hasFlag(Flag.SKIP_SHARED_CACHE_STORE) ? PRIVATE : BOTH);
  }
  return null;
}
