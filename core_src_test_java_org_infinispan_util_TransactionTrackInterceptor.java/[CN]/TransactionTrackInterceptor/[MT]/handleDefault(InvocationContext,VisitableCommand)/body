{
  try {
    return ctx.shortCircuit(ctx.forkInvocationSync(command));
  }
  finally {
    if (ctx.isOriginLocal() && ctx.isInTxScope()) {
      GlobalTransaction globalTransaction=((TxInvocationContext)ctx).getGlobalTransaction();
      addLocalTransaction(globalTransaction);
    }
  }
}
