{
  int commandTopologyId=-1;
  for (  ReplicableCommand innerCmd : command.getCommands()) {
    if (innerCmd instanceof TopologyAffectedCommand) {
      commandTopologyId=Math.max(extractCommandTopologyId((TopologyAffectedCommand)innerCmd),commandTopologyId);
    }
  }
  return commandTopologyId;
}
