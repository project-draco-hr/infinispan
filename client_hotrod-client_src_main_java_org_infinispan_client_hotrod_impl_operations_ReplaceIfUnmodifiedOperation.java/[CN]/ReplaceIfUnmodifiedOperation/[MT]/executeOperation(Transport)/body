{
  HeaderParams params=writeHeader(transport,REPLACE_IF_UNMODIFIED_REQUEST);
  transport.writeArray(key);
  codec.writeExpirationParams(transport,lifespan,maxIdle,internalFlags);
  transport.writeLong(version);
  transport.writeArray(value);
  transport.flush();
  return returnVersionedOperationResponse(transport,params);
}
