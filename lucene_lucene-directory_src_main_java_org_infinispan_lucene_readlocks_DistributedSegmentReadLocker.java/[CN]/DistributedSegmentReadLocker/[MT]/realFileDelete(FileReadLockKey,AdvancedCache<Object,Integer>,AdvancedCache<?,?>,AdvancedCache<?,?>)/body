{
  final boolean trace=log.isTraceEnabled();
  final String indexName=readLockKey.getIndexName();
  final String filename=readLockKey.getFileName();
  final FileCacheKey key=new FileCacheKey(indexName,filename);
  if (trace)   log.tracef("deleting metadata: %s",key);
  final FileMetadata file=(FileMetadata)metadataCache.remove(key);
  final int bufferSize=file.getBufferSize();
  if (file != null) {
    for (int i=0; i < file.getNumberOfChunks(); i++) {
      ChunkCacheKey chunkKey=new ChunkCacheKey(indexName,filename,i,bufferSize);
      if (trace)       log.tracef("deleting chunk: %s",chunkKey);
      chunksCache.withFlags(Flag.IGNORE_RETURN_VALUES).removeAsync(chunkKey);
    }
  }
  if (trace)   log.tracef("deleting readlock: %s",readLockKey);
  locksCache.withFlags(Flag.IGNORE_RETURN_VALUES).removeAsync(readLockKey);
}
