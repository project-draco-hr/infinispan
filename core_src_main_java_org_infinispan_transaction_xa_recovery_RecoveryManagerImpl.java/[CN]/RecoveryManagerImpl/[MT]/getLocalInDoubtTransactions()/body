{
  List<Xid> result=new ArrayList<Xid>();
  for (  Map.Entry<RecoveryInfoKey,RecoveryAwareRemoteTransaction> entry : preparedTransactions.entrySet()) {
    RecoveryAwareRemoteTransaction rt=entry.getValue();
    RecoveryInfoKey cacheNamePair=entry.getKey();
    if (cacheNamePair.sameCacheName(cacheName) && rt.isInDoubt()) {
      XidAware globalTransaction=(XidAware)rt.getGlobalTransaction();
      if (log.isTraceEnabled()) {
        log.trace("Found in doubt transaction: %s",globalTransaction);
      }
      result.add(globalTransaction.getXid());
    }
  }
  if (log.isTraceEnabled())   log.trace("Returning %s ",result);
  return result;
}
