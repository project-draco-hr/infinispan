{
  Xid xid=((RecoverableTransactionIdentifier)remoteTransaction.getGlobalTransaction()).getXid();
  RecoveryAwareTransaction previous=inDoubtTransactions.put(new RecoveryInfoKey(xid,cacheName),remoteTransaction);
  if (previous != null) {
    log.error("There's already a prepared transaction with this xid: %s. New transaction is %s. Are there two " + "different transactions having same Xid in the cluster?",previous,remoteTransaction);
    throw new IllegalStateException("Are there two different transactions having same Xid in the cluster?");
  }
}
