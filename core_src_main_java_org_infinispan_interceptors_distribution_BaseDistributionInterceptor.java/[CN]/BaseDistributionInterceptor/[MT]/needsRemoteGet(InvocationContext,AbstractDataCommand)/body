{
  boolean shouldFetchFromRemote=false;
  final CacheEntry entry;
  if (!command.hasFlag(Flag.CACHE_MODE_LOCAL) && !command.hasFlag(Flag.SKIP_REMOTE_LOOKUP) && !command.hasFlag(Flag.IGNORE_RETURN_VALUES)&& ((entry=ctx.lookupEntry(command.getKey())) == null || entry.isNull() || entry.isLockPlaceholder())) {
    Object key=command.getKey();
    DataLocality locality=dm.getReadConsistentHash().isKeyLocalToNode(rpcManager.getAddress(),key) ? DataLocality.LOCAL : DataLocality.NOT_LOCAL;
    shouldFetchFromRemote=ctx.isOriginLocal() && !locality.isLocal() && !dataContainer.containsKey(key);
    if (!shouldFetchFromRemote) {
      log.tracef("Not doing a remote get for key %s since entry is mapped to current node (%s), or is in L1.  Owners are %s",key,rpcManager.getAddress(),dm.locate(key));
    }
  }
  return shouldFetchFromRemote;
}
