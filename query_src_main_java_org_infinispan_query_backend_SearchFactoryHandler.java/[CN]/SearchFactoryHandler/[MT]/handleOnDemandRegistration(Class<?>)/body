{
  List<Class<?>> reducedSet=new ArrayList<>(classes.length);
  for (  Class<?> type : classes) {
    if (!queryKnownClasses.containsKey(type)) {
      reducedSet.add(type);
    }
  }
  if (!reducedSet.isEmpty()) {
    Class<?>[] toAdd=reducedSet.toArray(new Class[reducedSet.size()]);
    updateSearchFactory(toAdd);
    updateClusterRegistry(toAdd);
  }
}
