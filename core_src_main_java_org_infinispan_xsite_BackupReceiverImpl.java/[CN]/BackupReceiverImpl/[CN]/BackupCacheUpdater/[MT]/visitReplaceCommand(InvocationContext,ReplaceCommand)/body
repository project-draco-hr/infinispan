{
  if (command.isConditional() && command.getOldValue() != null) {
    return backupCache.replace(command.getKey(),command.getOldValue(),command.getNewValue(),command.getLifespanMillis(),TimeUnit.MILLISECONDS,command.getMaxIdleTimeMillis(),TimeUnit.MILLISECONDS);
  }
  return backupCache.replace(command.getKey(),command.getNewValue(),command.getLifespanMillis(),TimeUnit.MILLISECONDS,command.getMaxIdleTimeMillis(),TimeUnit.MILLISECONDS);
}
