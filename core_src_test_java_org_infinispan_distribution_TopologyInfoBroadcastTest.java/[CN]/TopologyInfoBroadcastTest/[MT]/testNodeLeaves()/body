{
  TestingUtil.killCacheManagers(manager(1));
  BaseDistFunctionalTest.RehashWaiter.waitForInitRehashToComplete(cache(0),cache(2));
  DistributionManagerImpl dmi=(DistributionManagerImpl)advancedCache(0).getDistributionManager();
  assertTopologyInfo2Nodes(dmi.getTopologyInfo());
  dmi=(DistributionManagerImpl)advancedCache(2).getDistributionManager();
  assertTopologyInfo2Nodes(dmi.getTopologyInfo());
  TopologyAwareConsistentHash tach=(TopologyAwareConsistentHash)advancedCache(0).getDistributionManager().getConsistentHash();
  assertEquals(tach.getTopologyInfo(),dmi.getTopologyInfo());
  tach=(TopologyAwareConsistentHash)advancedCache(2).getDistributionManager().getConsistentHash();
  assertEquals(tach.getTopologyInfo(),dmi.getTopologyInfo());
}
