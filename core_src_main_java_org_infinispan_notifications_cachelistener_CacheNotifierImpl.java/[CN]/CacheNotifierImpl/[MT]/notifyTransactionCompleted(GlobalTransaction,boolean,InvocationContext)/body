{
  if (!transactionCompletedListeners.isEmpty()) {
    boolean isOriginLocal=ctx.isOriginLocal();
    InvocationContext contexts=icc.suspend();
    try {
      EventImpl<Object,Object> e=EventImpl.createEvent(cache,TRANSACTION_COMPLETED);
      e.setOriginLocal(isOriginLocal);
      e.setTransactionId(transaction);
      e.setTransactionSuccessful(successful);
      for (      ListenerInvocation listener : transactionCompletedListeners)       listener.invoke(e);
    }
  finally {
      icc.resume(contexts);
    }
  }
}
