{
  if (onlyPrimary && !isLocalNodePrimaryOwner)   return false;
  if (event instanceof EventImpl) {
    EventImpl<K,V> eventImpl=(EventImpl<K,V>)event;
    if (eventImpl.isPre() && clustered)     return false;
    EventType eventType;
    if (filter != null && (eventType=getEvent(eventImpl)) != null && !filter.accept(eventImpl.getKey(),eventImpl.getOldValue(),eventImpl.getOldMetadata(),eventImpl.getValue(),eventImpl.getMetadata(),eventType))     return false;
  }
  return true;
}
