{
  if (converter != null) {
    if (event instanceof EventImpl) {
      EventImpl<K,Object> eventImpl=(EventImpl<K,Object>)event;
      eventImpl.setValue(converter.convert(eventImpl.getKey(),(V)eventImpl.getOldValue(),eventImpl.getOldMetadata(),(V)eventImpl.getValue(),eventImpl.getMetadata(),null));
    }
 else {
      throw new IllegalArgumentException("Provided event should be org.infinispan.notifications.cachelistener.eventEventImpl " + "when a converter is being used!");
    }
  }
}
