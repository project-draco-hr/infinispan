{
  AdvancedCache advanced=cache.getAdvancedCache();
  List<CommandInterceptor> interceptorList=advanced.getInterceptorChain();
  for (  CommandInterceptor inter : interceptorList) {
    if (inter.getClass().equals(QueryInterceptor.class) || inter.getClass().equals(LocalQueryInterceptor.class)) {
      throw new CacheException("There is already an instance of the QueryInterceptor running");
    }
  }
}
