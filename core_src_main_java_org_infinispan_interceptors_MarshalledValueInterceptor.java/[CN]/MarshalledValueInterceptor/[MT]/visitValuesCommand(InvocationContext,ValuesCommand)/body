{
  Collection values=(Collection)invokeNextInterceptor(ctx,command);
  if (wrapValues) {
    Collection copy=new ArrayList();
    for (    Object value : values) {
      if (value instanceof MarshalledValue) {
        value=((MarshalledValue)value).get();
      }
      copy.add(value);
    }
    return Immutables.immutableCollectionWrap(copy);
  }
 else {
    return Immutables.immutableCollectionWrap(values);
  }
}
