{
  Collection<Object> values=(Collection<Object>)invokeNextInterceptor(ctx,command);
  if (wrapValues) {
    Collection<Object> copy=new ArrayList<Object>();
    for (    Object value : values) {
      if (value instanceof MarshalledValue) {
        value=((MarshalledValue)value).get();
      }
      copy.add(value);
    }
    return Immutables.immutableCollectionWrap(copy);
  }
 else {
    return Immutables.immutableCollectionWrap(values);
  }
}
