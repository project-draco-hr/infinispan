{
  if (trace)   log.trace("preparing transaction {0}",tx);
  try {
    transactionRunner.prepare(new ModificationsTransactionWorker(this,mods));
    Transaction txn=currentTransaction.getTransaction();
    if (trace)     log.trace("transaction {0} == sleepycat transaction {1}",tx,txn);
    txnMap.put(tx,txn);
    ReflectionUtil.setValue(currentTransaction,"localTrans",new ThreadLocal());
  }
 catch (  Exception e) {
    throw convertToCacheLoaderException("Problem preparing transaction",e);
  }
}
