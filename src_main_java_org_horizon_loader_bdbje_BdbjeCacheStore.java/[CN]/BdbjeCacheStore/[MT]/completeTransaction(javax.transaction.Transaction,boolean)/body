{
  Transaction txn=txnMap.remove(tx);
  if (txn != null) {
    if (trace)     log.trace("{0} sleepycat transaction {1}",commit ? "committing" : "aborting",txn);
    try {
      if (commit)       txn.commit();
 else       txn.abort();
    }
 catch (    Exception caught) {
      throw convertToCacheLoaderException("Problem completing transaction",caught);
    }
  }
 else {
    if (trace)     log.trace("no sleepycat transaction associated  transaction {0}",tx);
  }
}
