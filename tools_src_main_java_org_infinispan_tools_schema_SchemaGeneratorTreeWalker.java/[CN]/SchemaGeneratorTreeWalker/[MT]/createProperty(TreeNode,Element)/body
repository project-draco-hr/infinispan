{
  if (treeNode.getParent().getParent() == null)   return;
  Class<?> bean=findBean(beans,treeNode.getParent().getName(),treeNode.getParent().getParent().getName());
  if (bean == null) {
    log.warn("Did not find bean for node " + treeNode + ". Should happen only for infinispan node");
    return;
  }
  String createdForParentElement=null;
  for (  Method m : bean.getMethods()) {
    if (propertiesElementsOnMethod(m).length > 0) {
      for (      ConfigurationProperty c : propertiesElementsOnMethod(m)) {
        boolean property=treeNode.getName().equals(c.parentElement());
        if (property && !c.parentElement().equals(createdForParentElement)) {
          createdForParentElement=c.parentElement();
          Element prop=xmldoc.createElement("xs:sequence");
          Element e=xmldoc.createElement("xs:element");
          prop.appendChild(e);
          e.setAttribute("name","property");
          e.setAttribute("maxOccurs","unbounded");
          e.setAttribute("minOccurs","0");
          e.setAttribute("type","tns:propertyType");
          complexType.appendChild(prop);
        }
      }
    }
  }
}
