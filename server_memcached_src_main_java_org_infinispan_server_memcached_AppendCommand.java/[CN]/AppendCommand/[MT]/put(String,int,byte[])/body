{
  Value current=cache.get(key);
  if (current != null) {
    byte[] concatenated=concat(current.getData(),data);
    Value next=new Value(current.getFlags(),concatenated,current.getCas() + 1);
    boolean replaced=cache.replace(key,current,next);
    if (replaced)     return Reply.STORED;
 else     return Reply.NOT_STORED;
  }
 else {
    return Reply.NOT_STORED;
  }
}
