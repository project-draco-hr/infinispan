{
  super.initialize(indexName,properties,similarity,buildContext);
  ServiceManager serviceManager=buildContext.getServiceManager();
  ComponentRegistryService componentRegistryService=serviceManager.requestService(ComponentRegistryService.class);
  ComponentRegistry componentRegistry=componentRegistryService.getComponentRegistry();
  Cache cache=componentRegistry.getComponent(Cache.class);
  cache.addListener(new TopologyChangeListener());
  flushAndReleaseResources();
}
