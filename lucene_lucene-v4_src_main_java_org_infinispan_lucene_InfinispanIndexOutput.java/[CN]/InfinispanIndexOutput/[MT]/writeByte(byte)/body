{
  if (isNewChunkNeeded()) {
    newChunk();
  }
  buffer[positionInBuffer++]=b;
  filePosition++;
}
