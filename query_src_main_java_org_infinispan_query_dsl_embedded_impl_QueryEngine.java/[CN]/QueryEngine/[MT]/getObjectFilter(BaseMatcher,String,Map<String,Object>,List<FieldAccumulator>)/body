{
  ObjectFilter objectFilter;
  if (queryCache != null) {
    KeyValuePair<String,KeyValuePair<Class,List<FieldAccumulator>>> queryCacheKey=new KeyValuePair<>(jpqlString,new KeyValuePair<>(matcher.getClass(),acc));
    objectFilter=queryCache.get(queryCacheKey);
    if (objectFilter == null) {
      objectFilter=matcher.getObjectFilter(jpqlString,acc);
      queryCache.put(queryCacheKey,objectFilter);
    }
  }
 else {
    objectFilter=matcher.getObjectFilter(jpqlString,acc);
  }
  return namedParameters != null ? objectFilter.withParameters(namedParameters) : objectFilter;
}
