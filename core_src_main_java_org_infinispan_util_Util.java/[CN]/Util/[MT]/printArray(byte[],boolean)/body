{
  if (array == null)   return "null";
  StringBuilder sb=new StringBuilder();
  sb.append("ByteArray{size=").append(array.length);
  if (withHash) {
    sb.append(", hashCode=").append(Integer.toHexString(Arrays.hashCode(array)));
  }
  sb.append(", array=0x");
  if (IS_ARRAYS_DEBUG) {
    sb.append(toHexString(array));
  }
 else {
    sb.append(toHexString(array,8));
    sb.append("..");
  }
  sb.append("}");
  return sb.toString();
}
