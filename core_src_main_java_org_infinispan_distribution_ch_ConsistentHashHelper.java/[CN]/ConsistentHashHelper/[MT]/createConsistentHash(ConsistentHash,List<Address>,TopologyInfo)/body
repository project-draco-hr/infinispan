{
  Hash hf=null;
  if (template instanceof AbstractWheelConsistentHash) {
    hf=((AbstractWheelConsistentHash)template).hashFunction;
  }
  ConsistentHash ch=constructConsistentHashInstance(template.getClass(),hf);
  if (addresses != null && !addresses.isEmpty())   ch.setCaches(addresses);
  ch.setTopologyInfo(topologyInfo);
  return ch;
}
