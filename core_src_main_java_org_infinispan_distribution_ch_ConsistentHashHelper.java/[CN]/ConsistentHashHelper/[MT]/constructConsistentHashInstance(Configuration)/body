{
  ConsistentHash ch=(ConsistentHash)Util.getInstance(c.getConsistentHashClass());
  if (ch instanceof AbstractWheelConsistentHash) {
    Hash h=(Hash)Util.getInstance(c.getHashFunctionClass());
    AbstractWheelConsistentHash wch=(AbstractWheelConsistentHash)ch;
    wch.setHashFunction(h);
    wch.setNumVirtualNodes(c.getNumVirtualNodes());
  }
  return ch;
}
