{
  assertKeysNotNull(map);
  InvocationContext ctx=getInvocationContextAndStartTx(explicitFlags,explicitClassLoader);
  PutMapCommand command=commandsFactory.buildPutMapCommand(map,lifespanUnit.toMillis(lifespan),idleTimeUnit.toMillis(maxIdleTime),ctx.getFlags());
  invokeNextAndCommitIfNeeded(ctx,command);
}
