{
  record("load");
  if (numEntries < 0)   return loadAll();
  Set<InternalCacheEntry> s=new HashSet<InternalCacheEntry>(numEntries);
  final long currentTimeMillis=System.currentTimeMillis();
  for (Iterator<byte[]> i=store.values().iterator(); i.hasNext() && s.size() < numEntries; ) {
    InternalCacheEntry se=deserializeEntry(i.next());
    if (se.isExpired(currentTimeMillis)) {
      log.debugf("Key %s exists, but has expired.  Entry is %s",se.getKey(),se);
      i.remove();
    }
 else     if (s.size() < numEntries) {
      s.add(se);
    }
  }
  return s;
}
