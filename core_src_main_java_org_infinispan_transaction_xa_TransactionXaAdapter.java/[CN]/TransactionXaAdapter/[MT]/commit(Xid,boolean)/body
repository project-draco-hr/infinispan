{
  Xid xid=convertXid(externalXid);
  LocalXaTransaction localTransaction=getLocalTransactionAndValidate(xid);
  if (trace)   log.tracef("Committing transaction %s. One phase? %s",localTransaction.getGlobalTransaction(),isOnePhase);
  txCoordinator.commit(localTransaction,isOnePhase);
  forgetSuccessfullyCompletedTransaction(recoveryManager,xid,localTransaction);
}
