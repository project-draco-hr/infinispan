{
  StringBuilder sb=new StringBuilder(64);
  int lineLength=0;
  while (true) {
    byte next=buffer.readByte();
    if (next == CR) {
      next=buffer.readByte();
      if (next == LF) {
        return sb.toString();
      }
    }
 else     if (next == LF) {
      return sb.toString();
    }
 else {
      lineLength++;
      sb.append((char)next);
    }
  }
}
