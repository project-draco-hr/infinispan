{
  File baseDir=new File(".");
  String dir=args[0];
  if (dir != null && dir.length() > 0) {
    baseDir=new File(dir);
  }
class InfinispanSchemaOutputResolver extends SchemaOutputResolver {
    private File dir;
    private InfinispanSchemaOutputResolver(    File dir){
      super();
      this.dir=dir;
    }
    public Result createOutput(    String namespaceUri,    String suggestedFileName) throws IOException {
      return new StreamResult(new File(dir,"infinispan-config-" + Version.getMajorVersion() + ".xsd"));
    }
  }
  JAXBContext context=JAXBContext.newInstance(InfinispanConfiguration.class);
  if (!baseDir.exists()) {
    if (baseDir.mkdirs()) {
      context.generateSchema(new InfinispanSchemaOutputResolver(baseDir));
    }
  }
}
