{
  TransactionManager tm=txManager();
  tm.begin();
  replayModifications(command);
  LocalTransaction localTx=txTable().getLocalTransaction(tm.getTransaction());
  localTx.setFromRemoteSite(true);
  if (onePhaseCommit) {
    log.tracef("Committing remotely originated tx %s as it is 1PC",command.getGlobalTransaction());
    tm.commit();
  }
 else {
    remote2localTx.put(command.getGlobalTransaction(),localTx.getGlobalTransaction());
  }
  tm.suspend();
}
