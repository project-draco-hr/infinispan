{
  this.cacheManager=cacheManager;
  Configuration cacheConfiguration=cacheManager.getCacheConfiguration(PROTOBUF_METADATA_CACHE_NAME);
  if (cacheConfiguration == null) {
    cacheManager.defineConfiguration(PROTOBUF_METADATA_CACHE_NAME,getProtobufMetadataCacheConfig().build());
  }
 else {
    throw new IllegalStateException("A cache configuration named " + PROTOBUF_METADATA_CACHE_NAME + " already exists. This must not be configured externally by the user.");
  }
}
