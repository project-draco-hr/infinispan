{
  ChunkCacheKey key=new ChunkCacheKey(fileKey.getIndexName(),fileKey.getFileName(),currentChunkNumber);
  file.touch();
  resizeFileIfNeeded();
  cache.startBatch();
  cache.withFlags(Flag.SKIP_REMOTE_LOOKUP).put(key,buffer);
  cache.withFlags(Flag.SKIP_REMOTE_LOOKUP).put(fileKey,file);
  cache.endBatch(true);
}
