{
  if (trace) {
    log.tracef("Cancelling outbound transfer of segments %s to %s",cancelledSegments,destination);
  }
  if (segments.removeAll(cancelledSegments)) {
    entriesBySegment.keySet().removeAll(cancelledSegments);
    if (segments.isEmpty()) {
      cancel();
    }
  }
}
