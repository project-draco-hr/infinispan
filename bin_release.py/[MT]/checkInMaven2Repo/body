def checkInMaven2Repo(version, workingDir):
    os.chdir(settings[local_mvn_repo_dir_key])
    client = get_svn_conn()
    poms = [(workingDir + '/pom.xml')]
    for m in modules:
        poms.append((((workingDir + '/') + m) + '/pom.xml'))
    moduleNames = []
    for p in poms:
        moduleNames.append(((((settings[local_mvn_repo_dir_key] + '/') + getModuleName(p)) + '/') + version))
    newmodules = []
    for m in modules:
        mod_dir = ((settings[local_mvn_repo_dir_key] + '/') + getModuleName(p))
        if (not is_in_svn(mod_dir)):
            newmodules.append(mod_dir)
    print ('New modules added in this release: %s' % newmodules)
    if (len(newmodules) > 0):
        client.add(newmodules)
    client.add(moduleNames)
    for mn in moduleNames:
        checkInMessage = (((('Infinispan Release Script: Releasing module ' + mn) + ' version ') + version) + ' to public Maven2 repo')
        client.checkin(mn, checkInMessage)
