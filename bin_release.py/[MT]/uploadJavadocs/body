def uploadJavadocs(base_dir, workingDir, version):
    "Javadocs get rsync'ed to filemgmt.jboss.org, in the docs_htdocs/infinispan directory"
    version_short = get_version_major_minor(version)
    os.chdir(('%s/target/distribution' % workingDir))
    subprocess.check_call(['unzip', ('infinispan-%s-all.zip' % version)])
    os.chdir(('infinispan-%s/doc' % version))
    subprocess.check_call([('%s/bin/updateTracker.sh' % workingDir)])
    os.mkdir(version_short)
    os.rename('apidocs', ('%s/apidocs' % version_short))
    subprocess.check_call(['rsync', '-rv', '--protocol=28', version_short, 'infinispan@filemgmt.jboss.org:/docs_htdocs/infinispan'])
