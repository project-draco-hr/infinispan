def upload_artifacts(base_dir, version):
    "Artifacts gets rsync'ed to filemgmt.jboss.org, in the downloads_htdocs/infinispan directory"
    shutil.rmtree('.tmp', ignore_errors=True)
    os.mkdir('.tmp')
    os.mkdir(('.tmp/%s' % version))
    os.chdir('.tmp')
    dist_dir = ('%s/distribution/target/distribution' % base_dir)
    prettyprint(('Copying from %s to %s' % (dist_dir, version)), Levels.INFO)
    for item in os.listdir(dist_dir):
        full_name = ('%s/%s' % (dist_dir, item))
        if (item.strip().lower().endswith('.zip') and os.path.isfile(full_name)):
            shutil.copy2(full_name, version)
    uploader.upload_rsync(version, 'infinispan@filemgmt.jboss.org:/downloads_htdocs/infinispan')
    shutil.rmtree('.tmp', ignore_errors=True)
