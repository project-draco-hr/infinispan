{
  try {
    if (componentType.isInterface()) {
      Class componentImpl;
      if (componentType.equals(Marshaller.class)) {
        componentImpl=VersionAwareMarshaller.class;
      }
 else       if (componentType.equals(InvocationContextContainer.class)) {
        componentImpl=InvocationContextContainerImpl.class;
      }
 else {
        componentImpl=Util.loadClass(componentType.getName() + "Impl");
      }
      return componentType.cast(Util.getInstance(componentImpl));
    }
 else {
      return Util.getInstance(componentType);
    }
  }
 catch (  Exception e) {
    throw new ConfigurationException("Unable to create component " + componentType,e);
  }
}
