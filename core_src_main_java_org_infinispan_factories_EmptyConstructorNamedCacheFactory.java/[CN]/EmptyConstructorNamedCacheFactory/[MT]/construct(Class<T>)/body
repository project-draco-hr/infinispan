{
  if (componentType.isInterface()) {
    Class componentImpl;
    if (componentType.equals(StreamingMarshaller.class)) {
      VersionAwareMarshaller versionAwareMarshaller=getInstance(VersionAwareMarshaller.class);
      return componentType.cast(versionAwareMarshaller);
    }
 else {
      componentImpl=loadClass(componentType.getName() + "Impl",Thread.currentThread().getContextClassLoader());
    }
    return componentType.cast(getInstance(componentImpl));
  }
 else {
    return getInstance(componentType);
  }
}
