{
  String jpaQuery=accept(new JPAQueryGeneratorVisitor());
  LuceneProcessingChain processingChain=new LuceneProcessingChain((SearchFactoryIntegrator)searchManager.getSearchFactory(),entityNamesResolver,null);
  QueryParser queryParser=new QueryParser();
  LuceneQueryParsingResult parsingResult=queryParser.parseQuery(jpaQuery,processingChain);
  return new LuceneQuery(searchManager,parsingResult);
}
