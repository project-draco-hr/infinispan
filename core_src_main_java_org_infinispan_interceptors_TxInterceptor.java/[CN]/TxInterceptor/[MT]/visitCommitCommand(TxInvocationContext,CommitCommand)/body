{
  GlobalTransaction gtx=ctx.getGlobalTransaction();
  if (!ctx.isOriginLocal()) {
    if (txTable.isTransactionCompleted(gtx)) {
      log.tracef("Transaction %s already completed, skipping commit",gtx);
      return null;
    }
 else {
      txTable.markTransactionCompleted(gtx);
    }
  }
  if (this.statisticsEnabled)   commits.incrementAndGet();
  Object result=invokeNextInterceptor(ctx,command);
  if (!ctx.isOriginLocal() || isTotalOrder) {
    txTable.remoteTransactionCommitted(gtx,false);
  }
  return result;
}
