{
  if (this.statisticsEnabled)   prepares.incrementAndGet();
  if (!ctx.isOriginLocal()) {
    ((RemoteTransaction)ctx.getCacheTransaction()).setLookedUpEntriesTopology(command.getTopologyId());
  }
 else {
    if (ctx.getCacheTransaction().hasModification(ClearCommand.class)) {
      throw new IllegalStateException("No ClearCommand is allowed in Transaction.");
    }
  }
  Object result=invokeNextInterceptorAndVerifyTransaction(ctx,command);
  if (!ctx.isOriginLocal()) {
    if (command.isOnePhaseCommit()) {
      txTable.remoteTransactionCommitted(command.getGlobalTransaction(),true);
    }
 else {
      txTable.remoteTransactionPrepared(command.getGlobalTransaction());
    }
  }
  return result;
}
