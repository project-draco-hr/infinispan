{
  super.init(ctx);
  this.asyncConfiguration=ctx.getConfiguration().async();
  Cache cache=ctx.getCache();
  Configuration cacheCfg=cache != null ? cache.getCacheConfiguration() : null;
  concurrencyLevel=cacheCfg != null ? cacheCfg.locking().concurrencyLevel() : 16;
  long cacheStopTimeout=cacheCfg != null ? cacheCfg.transaction().cacheStopTimeout() : 30000;
  Long configuredAsyncStopTimeout=this.asyncConfiguration.shutdownTimeout();
  cacheName=cache != null ? cache.getName() : null;
  if (configuredAsyncStopTimeout >= cacheStopTimeout) {
    shutdownTimeout=Math.round(cacheStopTimeout * 0.90);
    log.asyncStoreShutdownTimeoutTooHigh(configuredAsyncStopTimeout,cacheStopTimeout,shutdownTimeout);
  }
 else {
    shutdownTimeout=configuredAsyncStopTimeout;
  }
}
