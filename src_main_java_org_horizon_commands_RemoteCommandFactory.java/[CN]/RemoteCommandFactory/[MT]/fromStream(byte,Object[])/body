{
  ReplicableCommand command;
switch (id) {
case PutKeyValueCommand.METHOD_ID:
    command=new PutKeyValueCommand();
  break;
case PutMapCommand.METHOD_ID:
command=new PutMapCommand();
break;
case RemoveCommand.METHOD_ID:
command=new RemoveCommand();
break;
case ReplaceCommand.METHOD_ID:
command=new ReplaceCommand();
break;
case GetKeyValueCommand.METHOD_ID:
command=new GetKeyValueCommand();
break;
case ClearCommand.METHOD_ID:
command=new ClearCommand();
break;
case PrepareCommand.METHOD_ID:
command=new PrepareCommand();
break;
case CommitCommand.METHOD_ID:
command=new CommitCommand();
break;
case RollbackCommand.METHOD_ID:
command=new RollbackCommand();
break;
case ReplicateCommand.METHOD_ID:
command=new ReplicateCommand();
break;
case InvalidateCommand.METHOD_ID:
command=new InvalidateCommand();
break;
case StateTransferControlCommand.METHOD_ID:
command=new StateTransferControlCommand();
((StateTransferControlCommand)command).init(rpcManager);
break;
default :
throw new CacheException("Unknown command id " + id + "!");
}
command.setParameters(id,parameters);
return command;
}
