{
  if (configuration.dataContainer().dataContainer() != null) {
    return (T)configuration.dataContainer().dataContainer();
  }
 else {
    EvictionStrategy st=configuration.eviction().strategy();
    int level=configuration.locking().concurrencyLevel();
    Equivalence keyEquivalence=configuration.dataContainer().keyEquivalence();
switch (st) {
case NONE:
      return (T)DefaultDataContainer.unBoundedDataContainer(level,keyEquivalence);
case UNORDERED:
case LRU:
case FIFO:
case LIRS:
    long thresholdSize=configuration.eviction().size();
  if (thresholdSize < 0) {
    return (T)DefaultDataContainer.unBoundedDataContainer(level,keyEquivalence);
  }
EvictionThreadPolicy policy=configuration.eviction().threadPolicy();
return (T)DefaultDataContainer.boundedDataContainer(level,thresholdSize,st,policy,keyEquivalence,configuration.eviction().type());
default :
throw new CacheConfigurationException("Unknown eviction strategy " + configuration.eviction().strategy());
}
}
}
