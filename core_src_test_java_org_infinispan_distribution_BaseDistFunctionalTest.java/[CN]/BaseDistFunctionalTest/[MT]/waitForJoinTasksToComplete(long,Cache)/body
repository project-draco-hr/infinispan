{
  long giveupTime=System.currentTimeMillis() + timeout;
  while (System.currentTimeMillis() < giveupTime) {
    boolean allOK=true;
    for (    Cache c : joiners) {
      DistributionManagerImpl dmi=(DistributionManagerImpl)getDistributionManager(c);
      allOK&=dmi.isJoinComplete();
    }
    if (allOK)     return;
    TestingUtil.sleepThread(100);
  }
  throw new RuntimeException("Some caches have not finished rehashing after " + Util.prettyPrintTime(timeout));
}
