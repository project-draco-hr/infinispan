{
  ServiceLoader<ModuleLifecycle> moduleLifecycleLoader=ServiceLoader.load(ModuleLifecycle.class,cl);
  if (moduleLifecycleLoader.iterator().hasNext()) {
    List<ModuleLifecycle> lifecycles=new LinkedList<ModuleLifecycle>();
    for (    ModuleLifecycle lifecycle : moduleLifecycleLoader) {
      log.debugf("Loading lifecycle SPI class: %s",lifecycle);
      lifecycles.add(lifecycle);
    }
    return lifecycles;
  }
 else {
    log.debugf("No module lifecycle SPI classes available");
    return InfinispanCollections.emptyList();
  }
}
