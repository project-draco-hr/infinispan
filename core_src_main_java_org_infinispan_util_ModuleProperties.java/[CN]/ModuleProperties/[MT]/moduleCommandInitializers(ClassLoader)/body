{
  moduleCommandsGuard.lock();
  try {
    if (commandInitializers == null)     loadModuleCommandHandlers(cl);
    if (commandInitializers.isEmpty())     return Collections.emptyMap();
 else {
      Map<Byte,ModuleCommandInitializer> initializers=new HashMap<Byte,ModuleCommandInitializer>(commandInitializers.size());
      for (      Map.Entry<Byte,Class<? extends ModuleCommandInitializer>> e : commandInitializers.entrySet())       initializers.put(e.getKey(),Util.getInstance(e.getValue()));
      return initializers;
    }
  }
  finally {
    moduleCommandsGuard.unlock();
  }
}
