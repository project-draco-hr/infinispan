{
  Map<String,ModuleProperties> map=new HashMap<String,ModuleProperties>();
  Collection<URL> resources=new FileLookup().lookupFileLocations(MODULE_PROPERTIES_FILENAME,cl);
  for (  URL url : resources) {
    try {
      ModuleProperties props=new ModuleProperties();
      InputStream inStream=url.openStream();
      try {
        props.load(inStream);
      }
  finally {
        Util.close(inStream);
      }
      props.verify();
      map.put(props.getName(),props);
    }
 catch (    Exception e) {
      log.couldNotLoadModuleAtUrl(url,e);
    }
  }
  return map;
}
