{
  if (trace)   log.trace("Executing command: " + command + ".");
  Object ret=command.perform(ctx);
  if (ret != null) {
    Map<Object,Object> map=(Map<Object,Object>)ret;
    if (command.getFlags() == null || !command.getFlags().contains(Flag.SKIP_LISTENER_NOTIFICATION)) {
      for (      Map.Entry<Object,Object> entry : map.entrySet()) {
        Object value=entry.getValue();
        if (value != null) {
          value=command.isReturnEntries() ? ((CacheEntry)value).getValue() : entry.getValue();
          notifyCacheEntryVisit(ctx,command,entry.getKey(),value);
        }
      }
    }
  }
  return ret;
}
