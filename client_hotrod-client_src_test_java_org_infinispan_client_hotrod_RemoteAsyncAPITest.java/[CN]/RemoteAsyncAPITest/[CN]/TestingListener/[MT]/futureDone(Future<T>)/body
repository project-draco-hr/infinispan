{
  try {
    assertNotNull(future);
    assertFalse(future.isCancelled());
    assertTrue(future.isDone());
    T value=future.get();
    assertEquals("Obtained " + value,expected,value);
  }
 catch (  Throwable t) {
    exception.set(t);
  }
 finally {
    latch.countDown();
  }
}
