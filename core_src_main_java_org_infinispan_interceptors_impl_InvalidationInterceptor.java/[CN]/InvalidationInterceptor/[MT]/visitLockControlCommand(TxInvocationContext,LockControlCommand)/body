{
  Object retVal=ctx.forkInvocationSync(command);
  if (ctx.isOriginLocal()) {
    boolean sync=!command.isUnlock();
    ((LocalTxInvocationContext)ctx).remoteLocksAcquired(rpcManager.getTransport().getMembers());
    rpcManager.invokeRemotely(null,command,getBroadcastRpcOptions(sync));
  }
  return ctx.shortCircuit(retVal);
}
