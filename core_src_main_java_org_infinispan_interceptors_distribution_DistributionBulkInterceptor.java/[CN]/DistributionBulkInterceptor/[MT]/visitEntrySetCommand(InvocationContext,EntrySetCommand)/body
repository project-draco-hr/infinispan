{
  CacheSet<CacheEntry<K,V>> entrySet=(CacheSet<CacheEntry<K,V>>)ctx.forkInvocationSync(command);
  if (!command.hasFlag(Flag.CACHE_MODE_LOCAL)) {
    if (ctx.isInTxScope()) {
      entrySet=new TxBackingEntrySet<>(Caches.getCacheWithFlags(cache,command),entrySet,command,(LocalTxInvocationContext)ctx);
    }
 else {
      entrySet=new BackingEntrySet<>(Caches.getCacheWithFlags(cache,command),entrySet,command);
    }
  }
  return ctx.shortCircuit(entrySet);
}
