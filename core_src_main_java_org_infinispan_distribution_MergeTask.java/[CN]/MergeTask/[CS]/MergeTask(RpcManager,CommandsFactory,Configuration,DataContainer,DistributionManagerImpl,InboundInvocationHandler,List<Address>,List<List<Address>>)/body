{
  super(rpcManager,commandsFactory,conf,dataContainer,dmi,inboundInvocationHandler);
  TopologyInfo ti=buildTopologyInfo(newView);
  chNew=ConsistentHashHelper.createConsistentHash(configuration,newView,ti);
  if (mergedGroups.size() < 2)   throw new IllegalArgumentException("Don't know how to handle a merge of " + mergedGroups.size() + " partitions!");
  if (mergedGroups.size() > 2)   log.warn("Attempting to merge more than 2 partitions!  Inconsistencies may occur!  See https://issues.jboss.org/browse/ISPN-1001");
  List<Address> a1=mergedGroups.get(0);
  List<Address> a2=mergedGroups.get(1);
  TopologyInfo oldTopologyInfo=distributionManager.getTopologyInfo();
  if (!a1.contains(self))   chOld=createConsistentHash(configuration,a1,oldTopologyInfo);
 else   if (!a2.contains(self))   chOld=createConsistentHash(configuration,a2,oldTopologyInfo);
 else   throw new IllegalArgumentException("Neither of the merged partitions " + a1 + " and "+ a2+ " contain "+ self);
  distributionManager.setTopologyInfo(ti);
}
