{
  super(rpcManager,commandsFactory,conf,dataContainer,dmi,inboundInvocationHandler);
  chNew=ConsistentHashHelper.createConsistentHash(configuration,newView);
  if (mergedGroups.size() < 2)   throw new IllegalArgumentException("Don't know how to handle a merge of " + mergedGroups.size() + " partitions!");
  if (mergedGroups.size() > 2)   log.warn("Attempting to merge more than 2 partitions!  Inconsistencies may occur!  See https://issues.jboss.org/browse/ISPN-1001");
  List<Address> a1=mergedGroups.get(0);
  List<Address> a2=mergedGroups.get(1);
  if (!a1.contains(self))   chOld=createConsistentHash(configuration,a1);
 else   if (!a2.contains(self))   chOld=createConsistentHash(configuration,a2);
 else   throw new IllegalArgumentException("Both of the merged partitions " + a1 + " and "+ a2+ " contains "+ self);
}
