{
  createClusteredCaches(2,"expiry",getExpiryCacheConfig());
  hotRodServer1=HotRodClientTestingUtil.startHotRodServer(cacheManagers.get(0));
  hotRodServer2=HotRodClientTestingUtil.startHotRodServer(cacheManagers.get(1));
  testSpecificClassLoader=new JCacheTestingUtil.TestClassLoader(JCacheTwoCachesExpirationTest.class.getClassLoader());
  Properties properties=new Properties();
  properties.put("infinispan.client.hotrod.server_list",hotRodServer1.getHost() + ":" + hotRodServer1.getPort());
  cache1=createCacheWithProperties(Caching.getCachingProvider(testSpecificClassLoader),JCacheTwoCachesExpirationTest.class,"expiry",properties);
  properties=new Properties();
  properties.put("infinispan.client.hotrod.server_list",hotRodServer2.getHost() + ":" + hotRodServer2.getPort());
  cache2=createCacheWithProperties(Caching.getCachingProvider(testSpecificClassLoader),JCacheTwoCachesExpirationTest.class,"expiry",properties);
  waitForClusterToForm("expiry");
}
