{
  while (isLatchOpen(stateTransferInProgressLatch) && newViewId < viewId) {
    Thread.sleep(1);
  }
}
