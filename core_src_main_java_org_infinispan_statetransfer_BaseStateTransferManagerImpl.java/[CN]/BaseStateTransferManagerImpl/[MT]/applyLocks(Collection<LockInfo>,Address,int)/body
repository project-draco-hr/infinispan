{
  if (lockInfo != null) {
    log.debugf("Integrating %d locks from %s",lockInfo.size(),sender);
    for (    LockInfo lock : lockInfo) {
      RemoteTransaction remoteTx=transactionTable.getRemoteTransaction(lock.getGlobalTransaction());
      if (remoteTx == null) {
        remoteTx=transactionTable.createRemoteTransaction(lock.getGlobalTransaction(),null);
        remoteTx.setMissingModifications(true);
      }
      Object result=lockContainer.acquireLock(remoteTx.getGlobalTransaction(),lock.getKey(),0,TimeUnit.SECONDS);
      if (result == null) {
        throw new IllegalStateException("Could not acquire lock for key " + lock.getKey());
      }
    }
  }
}
