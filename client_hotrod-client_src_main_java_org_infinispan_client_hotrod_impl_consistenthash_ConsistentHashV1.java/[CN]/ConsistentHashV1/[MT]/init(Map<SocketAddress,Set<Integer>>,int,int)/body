{
  for (  Map.Entry<SocketAddress,Set<Integer>> entry : servers2Hash.entrySet()) {
    SocketAddress addr=entry.getKey();
    for (    Integer hash : entry.getValue()) {
      SocketAddress prev=positions.put(hash,addr);
      if (prev != null)       log.debugf("Adding hash (%d) again, this time for %s. Previously it was associated with: %s",hash,addr,prev);
    }
  }
  log.tracef("Positions (%d entries) are: %s",positions.size(),positions);
  this.hashSpace=hashSpace;
  this.numKeyOwners=numKeyOwners;
}
