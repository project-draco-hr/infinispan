{
  if (lockContainer.isLocked(key)) {
    Lock l=lockContainer.getLock(key);
    if (l instanceof OwnableReentrantLock) {
      return ((OwnableReentrantLock)l).getOwner();
    }
 else     if (l instanceof VisibleOwnerReentrantLock) {
      Thread owner=((VisibleOwnerReentrantLock)l).getOwner();
      if (owner != null)       return owner;
    }
    return ANOTHER_THREAD;
  }
 else {
    return null;
  }
}
