{
  if (!ctx.hasLockedKey(key) && !ctx.hasFlag(Flag.SKIP_LOCKING)) {
    return lock(ctx,key,timeoutMillis < 0 ? getLockAcquisitionTimeout(ctx) : timeoutMillis);
  }
 else {
    logLockNotAcquired(ctx);
  }
  return false;
}
