{
synchronized (executors) {
    E e=executors.get(p);
    if (e == null) {
      e=createService(p);
      executors.put(p,e);
    }
    return e;
  }
}
