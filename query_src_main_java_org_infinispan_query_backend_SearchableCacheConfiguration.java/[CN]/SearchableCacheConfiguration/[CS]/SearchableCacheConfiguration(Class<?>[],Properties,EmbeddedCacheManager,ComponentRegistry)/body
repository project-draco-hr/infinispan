{
  this.providedServices=initializeProvidedServices(uninitializedCacheManager,cr);
  if (properties == null) {
    this.properties=new Properties();
  }
 else {
    this.properties=rescopeProperties(properties);
  }
  classes=new HashMap<String,Class<?>>();
  for (  Class<?> c : classArray) {
    String classname=c.getName();
    classes.put(classname,c);
  }
  searchMapping=SearchMappingBuilder.getSearchMapping(this);
  if (searchMapping != null) {
    Set<Class<?>> mappedEntities=searchMapping.getMappedEntities();
    for (    Class<?> entity : mappedEntities) {
      classes.put(entity.getName(),entity);
    }
  }
}
