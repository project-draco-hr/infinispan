{
  super.validate();
  if (datasource != null && connectionUrl != null) {
    throw new ConfigurationException("Cannot specify both a datasource and a connection URL");
  }
  if (connectionFactoryClass == null) {
    if (datasource != null)     connectionFactoryClass=ManagedConnectionFactory.class.getName();
 else     connectionFactoryClass=PooledConnectionFactory.class.getName();
  }
}
