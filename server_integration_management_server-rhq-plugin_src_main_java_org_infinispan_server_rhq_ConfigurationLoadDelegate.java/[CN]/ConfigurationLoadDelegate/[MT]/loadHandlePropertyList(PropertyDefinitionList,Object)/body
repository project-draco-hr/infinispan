{
  String propertyName=propDef.getName();
  PropertyList propertyList=new PropertyList(propertyName);
  PropertyDefinition memberDefinition=propDef.getMemberDefinition();
  if (memberDefinition == null)   throw new IllegalArgumentException("Member definition for property [" + propertyName + "] was null");
  if (valueObject == null) {
    return null;
  }
  Collection<Object> objects;
  if (valueObject instanceof List)   objects=(List<Object>)valueObject;
 else {
    objects=((Map)valueObject).values();
  }
  if (memberDefinition instanceof PropertyDefinitionSimple) {
    for (    Object obj : objects) {
      PropertySimple property=loadHandlePropertySimple((PropertyDefinitionSimple)memberDefinition,obj);
      if (property != null)       propertyList.add(property);
    }
  }
 else   if (memberDefinition instanceof PropertyDefinitionMap) {
    for (    Object obj : objects) {
      Map<String,Object> map=(Map<String,Object>)obj;
      PropertyMap propertyMap=loadHandlePropertyMap((PropertyDefinitionMap)propDef.getMemberDefinition(),map,null);
      if (propertyMap != null)       propertyList.add(propertyMap);
    }
  }
  return propertyList;
}
