{
  int actualReplCount=Math.min(replCount,caches.size());
  int normalizedHash;
  if (key instanceof Address)   normalizedHash=getNormalizedHash(hashSeed.getHashSeed((Address)key));
 else   normalizedHash=getNormalizedHash(getGrouping(key));
  List<Address> owners=new ArrayList<Address>(replCount);
  for (Iterator<Map.Entry<Integer,Address>> it=getPositionsIterator(normalizedHash); it.hasNext(); ) {
    Address a=it.next().getValue();
    if (!(isVirtualNodesEnabled() && owners.contains(a))) {
      if (target != null && target.equals(a))       return null;
      owners.add(a);
      if (owners.size() >= actualReplCount)       return owners;
    }
  }
  return owners;
}
