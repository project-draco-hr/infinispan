{
  SocketAddress server;
synchronized (lock) {
    Optional<SocketAddress> hashAwareServer=topologyInfo.getHashAwareServer(key,cacheName);
    server=hashAwareServer.orElse(getNextServer(failedServers,cacheName));
  }
  return borrowTransportFromPool(server);
}
