{
  Thread.currentThread().setName("UserRunnerThread-" + getCustomerId());
  log.info("Wait for all executions paths to be ready to perform calls");
  try {
    for (int i=0; i < ITERATION_COUNT && !TERMINATE_ALL_USERS; i++) {
      if (contactExists())       throw new IllegalStateException("contact already exists before add, customerId=" + customerId);
      addContact(customerId);
      thinkRandomTime();
      if (!contactExists())       throw new IllegalStateException("contact missing after successful add, customerId=" + customerId);
      thinkRandomTime();
      readEveryonesFirstContact();
      thinkRandomTime();
      removeContact(customerId);
      if (contactExists())       throw new IllegalStateException("contact still exists after successful remove call, customerId=" + customerId);
      thinkRandomTime();
      ++completedIterations;
      if (log.isTraceEnabled())       log.trace("Iteration completed {0}",completedIterations);
    }
  }
 catch (  Throwable t) {
    TERMINATE_ALL_USERS=true;
    log.error("Error",t);
    throw new Exception(t);
  }
 finally {
    log.info("Wait for all execution paths to finish");
    barrier.await();
  }
  return null;
}
