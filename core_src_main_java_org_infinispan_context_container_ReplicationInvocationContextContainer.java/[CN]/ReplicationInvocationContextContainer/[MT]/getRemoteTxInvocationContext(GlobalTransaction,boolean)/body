{
  RemoteTxInvocationContext context=remoteTxMap.get(globalTransaction);
  if (context == null && create) {
    context=new RemoteTxInvocationContext();
    if (log.isTraceEnabled())     log.trace("Rgistering remote tx: " + globalTransaction);
    remoteTxMap.put(globalTransaction,context);
  }
  PossibleContexts contexts=contextsTl.get();
  contexts.updateThreadContextAndReturn(context);
  return context;
}
