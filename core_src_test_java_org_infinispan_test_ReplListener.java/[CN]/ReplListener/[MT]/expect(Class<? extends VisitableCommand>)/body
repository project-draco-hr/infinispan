{
  if (this.expectedCommands == null) {
    this.expectedCommands=new HashSet<Class<? extends VisitableCommand>>();
  }
  this.expectedCommands.addAll(Arrays.asList(expectedCommands));
  if (recordCommandsEagerly) {
    eagerCommandsLock.lock();
    try {
      this.expectedCommands.removeAll(eagerCommands);
      if (!eagerCommands.isEmpty())       sawAtLeastOneInvocation=true;
      eagerCommands.clear();
    }
  finally {
      eagerCommandsLock.unlock();
    }
  }
}
