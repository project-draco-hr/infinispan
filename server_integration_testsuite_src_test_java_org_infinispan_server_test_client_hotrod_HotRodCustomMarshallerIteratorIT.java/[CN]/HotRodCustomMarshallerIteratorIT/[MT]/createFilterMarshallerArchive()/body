{
  String protoFile=Util.read(HotRodCustomMarshallerIteratorIT.class.getResourceAsStream("/sample_bank_account/bank.proto"));
  return ShrinkWrap.create(JavaArchive.class,"filter-marshaller.jar").addClasses(CustomProtoStreamMarshaller.class,ProtoStreamMarshaller.class,BaseProtoStreamMarshaller.class).addClasses(HotRodClientException.class,UserMarshaller.class,GenderMarshaller.class,User.class,Address.class).add(new StringAsset(protoFile),"/sample_bank_account/bank.proto").add(new StringAsset("Dependencies: org.infinispan.protostream"),"META-INF/MANIFEST.MF").addAsServiceProvider(Marshaller.class,CustomProtoStreamMarshaller.class).addClasses(CustomFilterFactory.class,CustomFilterFactory.CustomFilter.class).addAsServiceProvider(KeyValueFilterConverterFactory.class,CustomFilterFactory.class);
}
