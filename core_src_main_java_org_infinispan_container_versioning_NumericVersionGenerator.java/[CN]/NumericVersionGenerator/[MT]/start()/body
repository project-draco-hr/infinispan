{
  cache.getCacheManager().addListener(new RankCalculator());
  isClustered=cache.getCacheConfiguration().clustering().cacheMode().isClustered();
  if (isClustered) {
    Transport transport=cache.getAdvancedCache().getComponentRegistry().getGlobalComponentRegistry().getComponent(Transport.class);
    calculateRank(transport.getAddress(),transport.getMembers(),transport.getViewId());
  }
}
