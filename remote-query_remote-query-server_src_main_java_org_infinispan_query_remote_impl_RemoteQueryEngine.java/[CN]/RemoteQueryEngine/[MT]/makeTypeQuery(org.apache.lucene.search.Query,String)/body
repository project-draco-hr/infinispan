{
  if (isCompatMode) {
    return query;
  }
  BooleanQuery booleanQuery=new BooleanQuery();
  booleanQuery.add(new BooleanClause(new TermQuery(new Term(QueryFacadeImpl.TYPE_FIELD_NAME,targetEntityName)),BooleanClause.Occur.MUST));
  booleanQuery.add(new BooleanClause(query,BooleanClause.Occur.MUST));
  return booleanQuery;
}
