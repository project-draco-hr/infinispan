{
  Object retVal=invokeNextInterceptor(ctx,command);
  boolean sync=isSynchronous(ctx);
  if (ctx.isOriginLocal() && ctx.hasModifications()) {
    List<Address> recipients=dm.getAffectedNodes(ctx.getAffectedKeys());
    NotifyingNotifiableFuture<Object> f=null;
    if (command.isOnePhaseCommit())     f=flushL1Cache(recipients.size(),getKeys(ctx.getModifications()),null,sync);
    rpcManager.invokeRemotely(recipients,command,sync);
    if (f != null)     f.get();
  }
  return retVal;
}
