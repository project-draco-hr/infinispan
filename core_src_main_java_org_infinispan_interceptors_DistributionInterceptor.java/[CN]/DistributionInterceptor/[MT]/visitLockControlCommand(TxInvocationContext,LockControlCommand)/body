{
  if (ctx.isOriginLocal()) {
    int newCacheViewId=-1;
    stateTransferLock.waitForStateTransferToEnd(ctx,command,newCacheViewId);
    final Collection<Address> affectedNodes=dm.getAffectedNodes(command.getKeys());
    ((LocalTxInvocationContext)ctx).remoteLocksAcquired(affectedNodes);
    rpcManager.invokeRemotely(affectedNodes,command,true,true);
    ctx.addAffectedKeys(command.getKeys());
  }
  return invokeNextInterceptor(ctx,command);
}
