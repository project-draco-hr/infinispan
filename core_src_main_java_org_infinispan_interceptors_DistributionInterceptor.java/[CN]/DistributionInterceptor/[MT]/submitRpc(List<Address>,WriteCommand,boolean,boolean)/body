{
  if (useFuture) {
    Callable<Object> c=new Callable<Object>(){
      public Object call(){
        if (recipients == null) {
          rpcManager.broadcastReplicableCommand(cmd,true);
        }
 else {
          rpcManager.multicastReplicableCommand(recipients,cmd,true);
        }
        return null;
      }
    }
;
    return asyncExecutorService.submit(c);
  }
 else {
    if (recipients == null) {
      rpcManager.broadcastReplicableCommand(cmd,sync);
    }
 else {
      rpcManager.multicastReplicableCommand(recipients,cmd,sync);
    }
    return null;
  }
}
