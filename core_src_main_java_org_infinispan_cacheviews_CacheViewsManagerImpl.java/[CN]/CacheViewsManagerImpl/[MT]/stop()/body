{
  cacheManagerNotifier.removeListener(listener);
  running=false;
  viewTriggerThread.interrupt();
  cacheViewInstallerExecutor.shutdown();
  try {
    viewTriggerThread.join(timeout);
    if (viewTriggerThread.isAlive()) {
      log.debugf("The cache view trigger thread did not stop in %d millis",timeout);
    }
    viewTriggerThread=null;
    cacheViewInstallerExecutor.awaitTermination(timeout,TimeUnit.MILLISECONDS);
  }
 catch (  InterruptedException e) {
    Thread.currentThread().interrupt();
  }
}
