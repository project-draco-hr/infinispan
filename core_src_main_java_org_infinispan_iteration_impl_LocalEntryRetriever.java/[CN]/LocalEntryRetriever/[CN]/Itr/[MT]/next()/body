{
  CacheEntry<K,C> entry=queue.poll();
  if (entry == null) {
    if (completed) {
      throw new NoSuchElementException();
    }
    nextLock.lock();
    try {
      while ((entry=queue.poll()) == null && !completed) {
        try {
          nextCondition.await();
        }
 catch (        InterruptedException e) {
        }
      }
      if (entry == null) {
        throw new NoSuchElementException();
      }
    }
  finally {
      nextLock.unlock();
    }
  }
  return entry;
}
