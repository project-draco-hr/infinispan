{
  Converter<? super K,? super V,? extends C> usedConverter;
  if (filter == converter && filter instanceof KeyValueFilterConverter) {
    usedConverter=null;
    if (log.isTraceEnabled()) {
      log.tracef("User supplied a KeyValueFilterConverter for both filter and converter, so ignoring converter");
    }
  }
 else {
    usedConverter=converter;
  }
  return usedConverter;
}
