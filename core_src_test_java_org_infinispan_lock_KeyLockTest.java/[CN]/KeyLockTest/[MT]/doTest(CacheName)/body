{
  final LockContainer<?> lockContainer=TestingUtil.extractComponent(cache(cacheName.name()),LockContainer.class);
  final Object lockOwner=new Object();
  AssertJUnit.assertNotNull(lockContainer.acquireLock(lockOwner,byteArray(),10,TimeUnit.MILLISECONDS));
  AssertJUnit.assertTrue(lockContainer.isLocked(byteArray()));
  fork(new Runnable(){
    @Override public void run(){
      try {
        for (int i=0; i < RETRIES; ++i) {
          AssertJUnit.assertTrue(lockContainer.isLocked(byteArray()));
          AssertJUnit.assertNull(lockContainer.acquireLock(new Object(),byteArray(),10,TimeUnit.MILLISECONDS));
        }
      }
 catch (      InterruptedException e) {
        Thread.currentThread().interrupt();
      }
    }
  }
,true);
}
