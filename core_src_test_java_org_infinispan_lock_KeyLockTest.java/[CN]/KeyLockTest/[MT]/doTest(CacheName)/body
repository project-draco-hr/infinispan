{
  final LockContainer<?> lockContainer=TestingUtil.extractComponent(cache(cacheName.name()),LockContainer.class);
  final Object lockOwner=new Object();
  AssertJUnit.assertNotNull(lockContainer.acquireLock(lockOwner,byteArray(),10,TimeUnit.MILLISECONDS));
  AssertJUnit.assertTrue(lockContainer.isLocked(byteArray()));
  fork(new Callable<Void>(){
    @Override public Void call() throws InterruptedException {
      for (int i=0; i < RETRIES; ++i) {
        AssertJUnit.assertTrue(lockContainer.isLocked(byteArray()));
        AssertJUnit.assertNull(lockContainer.acquireLock(new Object(),byteArray(),10,TimeUnit.MILLISECONDS));
      }
      return null;
    }
  }
).get(10,TimeUnit.SECONDS);
}
