{
  builder=getDefaultClusteredCacheConfig(CacheMode.DIST_SYNC,transactional,transactional);
  builder.clustering().hash().numSegments(3).numOwners(2).stateTransfer().fetchInMemoryState(true).locking().lockAcquisitionTimeout(1000l).supportsConcurrentUpdates(supportsConcurrentUpdates);
  if (transactional) {
    builder.transaction().transactionMode(TransactionMode.TRANSACTIONAL).transactionManagerLookup(new DummyTransactionManagerLookup()).syncCommitPhase(true).syncRollbackPhase(true).lockingMode(optimistic ? LockingMode.OPTIMISTIC : LockingMode.PESSIMISTIC);
  }
}
