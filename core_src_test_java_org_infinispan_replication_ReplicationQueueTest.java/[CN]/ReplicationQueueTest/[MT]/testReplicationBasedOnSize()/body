{
  for (int i=0; i < REPL_QUEUE_MAX_ELEMENTS; i++) {
    cache1.put("key" + i,"value" + i);
  }
  eventually(new Condition(){
    @Override public boolean isSatisfied() throws Exception {
      return cache2.size() == REPL_QUEUE_MAX_ELEMENTS;
    }
  }
);
  for (int i=0; i < REPL_QUEUE_MAX_ELEMENTS; i++) {
    assertEquals(cache2.get("key" + i),"value" + i);
  }
}
