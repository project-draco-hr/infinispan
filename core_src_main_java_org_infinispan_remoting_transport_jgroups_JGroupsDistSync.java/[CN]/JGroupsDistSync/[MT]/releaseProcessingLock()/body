{
  try {
    if (processingLock.isWriteLockedByCurrentThread()) {
      processingLock.writeLock().unlock();
    }
 else {
      processingLock.readLock().unlock();
    }
  }
 catch (  IllegalMonitorStateException imse) {
    if (trace)     log.trace("Did not own lock!");
  }
}
