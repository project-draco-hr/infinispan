{
  AvailabilityMode clusterAvailability=AvailabilityMode.AVAILABLE;
synchronized (runningCaches) {
    for (    LocalCacheStatus cacheStatus : runningCaches.values()) {
      AvailabilityMode availabilityMode=cacheStatus.getPartitionHandlingManager() != null ? cacheStatus.getPartitionHandlingManager().getAvailabilityMode() : null;
      clusterAvailability=availabilityMode != null ? clusterAvailability.min(availabilityMode) : clusterAvailability;
    }
  }
  return clusterAvailability.toString();
}
