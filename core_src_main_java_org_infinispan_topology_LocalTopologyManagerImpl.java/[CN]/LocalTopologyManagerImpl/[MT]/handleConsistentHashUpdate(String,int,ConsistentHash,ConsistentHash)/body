{
  LocalCacheStatus cacheStatus=runningCaches.get(cacheName);
  if (cacheStatus == null) {
    log.tracef("Ignoring consistent hash update %s for cache %s that doesn't exist locally",topologyId,cacheName);
    return;
  }
  log.debugf("Updating local consistent hash(es) for cache %s: currentCH = %s, pendingCH = %s",cacheName,currentCH,pendingCH);
  cacheStatus.topology=new CacheTopology(topologyId,currentCH,pendingCH);
  ConsistentHash unionCH;
  if (pendingCH != null)   unionCH=cacheStatus.joinInfo.getConsistentHashFactory().union(currentCH,pendingCH);
 else   unionCH=null;
  CacheTopologyHandler handler=cacheStatus.handler;
  handler.updateConsistentHash(topologyId,currentCH,unionCH);
}
