{
  this.name=name;
  this.attributes=new HashMap<>(attributeDefinitions.length + attributeSet.attributes.size());
  for (  Attribute<? extends Object> attribute : attributeSet.attributes.values()) {
    this.attributes.put(attribute.name(),attribute.getAttributeDefinition().toAttribute());
  }
  for (  AttributeDefinition<?> def : attributeDefinitions) {
    Attribute<Object> attribute=(Attribute<Object>)def.toAttribute();
    if (!attribute.isImmutable())     attribute.addListener(this);
    this.attributes.put(def.name(),attribute);
  }
}
