{
  final String expectedReplicationQueueScheduledExecutorFactoryClass=MockScheduleExecutorFactory.class.getName();
  final SpringEmbeddedCacheManagerFactoryBean objectUnderTest=new SpringEmbeddedCacheManagerFactoryBean();
  objectUnderTest.setReplicationQueueScheduledExecutorFactoryClass(expectedReplicationQueueScheduledExecutorFactoryClass);
  objectUnderTest.afterPropertiesSet();
  final SpringEmbeddedCacheManager springEmbeddedCacheManager=objectUnderTest.getObject();
  assertEquals("SpringEmbeddedCacheManagerFactoryBean should have used explicitly set ReplicationQueueScheduledExecutorFactoryClass. However, it didn't.",expectedReplicationQueueScheduledExecutorFactoryClass,springEmbeddedCacheManager.getNativeCacheManager().getGlobalConfiguration().getReplicationQueueScheduledExecutorFactoryClass());
  springEmbeddedCacheManager.stop();
}
