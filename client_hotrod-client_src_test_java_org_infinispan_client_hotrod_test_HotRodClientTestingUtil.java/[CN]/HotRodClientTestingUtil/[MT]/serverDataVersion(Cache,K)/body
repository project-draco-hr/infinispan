{
  Marshaller marshaller=new GenericJBossMarshaller();
  try {
    byte[] keyBytes=marshaller.objectToByteBuffer(key);
    Metadata metadata=cache.getAdvancedCache().getCacheEntry(keyBytes).getMetadata();
    return ((NumericVersion)metadata.version()).getVersion();
  }
 catch (  Exception e) {
    throw new AssertionError(e);
  }
}
