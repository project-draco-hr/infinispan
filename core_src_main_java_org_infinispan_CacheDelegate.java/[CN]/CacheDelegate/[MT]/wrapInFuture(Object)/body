{
  if (retval instanceof NotifyingFuture) {
    return (NotifyingFuture<X>)retval;
  }
 else {
    return new NotifyingFuture<X>(){
      public boolean cancel(      boolean mayInterruptIfRunning){
        return true;
      }
      public boolean isCancelled(){
        return false;
      }
      public boolean isDone(){
        return true;
      }
      @SuppressWarnings("unchecked") public X get() throws InterruptedException, ExecutionException {
        return (X)retval;
      }
      public X get(      long timeout,      TimeUnit unit) throws InterruptedException, ExecutionException, TimeoutException {
        return get();
      }
      public NotifyingFuture<X> attachListener(      FutureListener<X> futureListener){
        futureListener.futureDone(this);
        return this;
      }
    }
;
  }
}
