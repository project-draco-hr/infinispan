{
  InvocationContext ctx=getInvocationContext();
  if (flags != null)   ctx.setFlags(flags);
  ReplaceCommand command=commandsFactory.buildReplaceCommand(k,null,v,lifespanUnit.toMillis(lifespan),maxIdleUnit.toMillis(maxIdle));
  return (V)invoker.invoke(ctx,command);
}
