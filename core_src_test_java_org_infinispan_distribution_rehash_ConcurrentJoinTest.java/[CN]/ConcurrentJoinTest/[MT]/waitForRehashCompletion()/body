{
  List<CacheContainer> allCacheManagers=new ArrayList<CacheContainer>(cacheManagers);
  allCacheManagers.addAll(joinerManagers);
  TestingUtil.blockUntilViewsReceived(60000,false,allCacheManagers);
  waitForJoinTasksToComplete(SECONDS.toMillis(480),joiners.toArray(new Cache[NUM_JOINERS]));
  int[] joinersPos=new int[NUM_JOINERS];
  for (int i=0; i < NUM_JOINERS; i++)   joinersPos[i]=locateJoiner(joinerManagers.get(i).getAddress());
  log.info("***>>> Joiners are in positions " + Arrays.toString(joinersPos));
  for (int i=0; i < NUM_JOINERS; i++) {
    if (joinersPos[i] > caches.size())     caches.add(joiners.get(i));
 else     caches.add(joinersPos[i],joiners.get(i));
  }
}
