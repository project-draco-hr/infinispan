{
  List<Cache> allCaches=new ArrayList<Cache>(caches);
  allCaches.addAll(joiners);
  TestingUtil.blockUntilViewsReceived(60000,false,allCaches);
  waitForJoinTasksToComplete(SECONDS.toMillis(480),joiners.toArray(new Cache[numJoiners]));
  int[] joinersPos=new int[numJoiners];
  for (int i=0; i < numJoiners; i++)   joinersPos[i]=locateJoiner(joinerManagers.get(i).getAddress());
  log.info("***>>> Joiners are in positions " + Arrays.toString(joinersPos));
  for (int i=0; i < numJoiners; i++) {
    if (joinersPos[i] > caches.size())     caches.add(joiners.get(i));
 else     caches.add(joinersPos[i],joiners.get(i));
  }
}
