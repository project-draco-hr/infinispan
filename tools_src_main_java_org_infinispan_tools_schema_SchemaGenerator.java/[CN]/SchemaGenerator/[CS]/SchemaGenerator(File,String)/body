{
  this.fileToWrite=fileToWrite;
  List<Class<?>> infinispanClasses=null;
  String pathUsed=ClassFinder.PATH;
  if (searchPath == null || searchPath.length() == 0) {
    infinispanClasses=ClassFinder.infinispanClasses();
  }
 else {
    pathUsed=searchPath;
    infinispanClasses=ClassFinder.infinispanClasses(searchPath);
  }
  if (infinispanClasses == null || infinispanClasses.isEmpty())   throw new IllegalArgumentException("Could not find infinispan classes on your classpath " + pathUsed);
  beans=ClassFinder.isAssignableFrom(infinispanClasses,AbstractConfigurationBean.class);
  if (beans.isEmpty())   throw new IllegalStateException("Could not find AbstractConfigurationBean(s) on your classpath " + pathUsed);
}
