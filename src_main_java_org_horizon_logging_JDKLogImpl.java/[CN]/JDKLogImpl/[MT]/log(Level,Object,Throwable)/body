{
  if (logger.isLoggable(level)) {
    Throwable dummyException=new Throwable();
    StackTraceElement locations[]=dummyException.getStackTrace();
    String className="unknown";
    String methodName="unknown";
    int depth=2;
    if (locations != null && locations.length > depth) {
      StackTraceElement caller=locations[depth];
      className=caller.getClassName();
      methodName=caller.getMethodName();
    }
    if (ex == null) {
      logger.logp(level,className,methodName,String.valueOf(object));
    }
 else {
      logger.logp(level,className,methodName,String.valueOf(object),ex);
    }
  }
}
