{
  assertFalse(cs.containsKey("k"));
  long lifespan=120000;
  InternalCacheEntry se=TestInternalCacheEntryFactory.create("k","v",lifespan);
  cs.store(se);
  assertTrue(cs.containsKey("k"));
  InternalCacheEntry ice=cs.load("k");
  assertCorrectExpiry(ice,"v",lifespan,-1,false);
  ice=cs.loadAll().iterator().next();
  assertCorrectExpiry(ice,"v",lifespan,-1,false);
  lifespan=1;
  se=TestInternalCacheEntryFactory.create("k","v",lifespan);
  cs.store(se);
  Thread.sleep(100);
  purgeExpired();
  assertTrue(se.isExpired(System.currentTimeMillis()));
  assertEventuallyExpires("k");
  assertFalse(cs.containsKey("k"));
  assertTrue(cs.loadAll().isEmpty());
}
