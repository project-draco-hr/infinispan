{
  Transaction txn=txnMap.remove(tx);
  if (txn != null) {
    if (trace)     log.tracef("%s sleepycat transaction %s",commit ? "committing" : "aborting",txn);
    try {
      if (commit)       txn.commit();
 else       txn.abort();
    }
 catch (    Exception caught) {
      throw convertToCacheLoaderException("Problem completing transaction",caught);
    }
  }
 else {
    if (trace)     log.tracef("no sleepycat transaction associated  transaction %s",tx);
  }
}
