{
  FilterDef def=searchFactoryImplementor.getFilterDefinition(fullTextFilter.getName());
  if (isPreQueryFilterOnly(def)) {
    return null;
  }
  Object instance=createFilterInstance(fullTextFilter,def);
  FilterKey key=createFilterKey(def,instance);
  Filter filter=cacheInstance(def.getCacheMode()) ? searchFactoryImplementor.getFilterCachingStrategy().getCachedFilter(key) : null;
  if (filter == null) {
    filter=createFilter(def,instance);
    if (cacheInstance(def.getCacheMode())) {
      searchFactoryImplementor.getFilterCachingStrategy().addCachedFilter(key,filter);
    }
  }
  return filter;
}
