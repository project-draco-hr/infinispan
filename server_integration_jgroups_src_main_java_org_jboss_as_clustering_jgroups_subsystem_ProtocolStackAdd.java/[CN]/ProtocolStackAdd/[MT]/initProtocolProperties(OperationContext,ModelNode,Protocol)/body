{
  Map<String,String> properties=protocolConfig.getProperties();
  if (protocol.hasDefined(ModelKeys.PROPERTY)) {
    for (    Property property : protocol.get(ModelKeys.PROPERTY).asPropertyList()) {
      String propertyName=property.getName();
      String propertyValue=PropertyResourceDefinition.VALUE.resolveModelAttribute(context,property.getValue()).asString();
      if (propertyValue != null && !propertyValue.isEmpty()) {
        properties.put(propertyName,propertyValue);
      }
    }
  }
}
