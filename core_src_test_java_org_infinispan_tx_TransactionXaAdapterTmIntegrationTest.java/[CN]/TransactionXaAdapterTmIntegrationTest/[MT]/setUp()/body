{
  txTable=new XaTransactionTable();
  TransactionFactory gtf=new TransactionFactory();
  gtf.init(false,false,true);
  globalTransaction=gtf.newGlobalTransaction(null,false);
  localTx=new LocalXaTransaction(new DummyTransaction(null),globalTransaction);
  xid=new DummyXid();
  localTx.setXid(xid);
  txTable.addLocalTransactionMapping(localTx);
  configuration=new Configuration();
  TransactionCoordinator txCoordinator=new TransactionCoordinator();
  txCoordinator.init(null,null,null,null,configuration,null);
  xaAdapter=new TransactionXaAdapter(localTx,txTable,configuration,null,null,txCoordinator);
}
