{
  Map<Object,String> originalValues=insertDefaultValues(false);
  EntryRetriever<Object,String> retriever=cache(0,cacheName).getAdvancedCache().getComponentRegistry().getComponent(EntryRetriever.class);
  Iterator<CacheEntry<Object,String>> iterator=retriever.retrieveEntries(null,null,EnumSet.of(Flag.SKIP_CACHE_LOAD),null);
  int count=0;
  Map<Object,String> results=new HashMap<Object,String>();
  while (iterator.hasNext()) {
    Map.Entry<Object,String> entry=iterator.next();
    results.put(entry.getKey(),entry.getValue());
    count++;
  }
  assertEquals(count,3);
  assertEquals(originalValues,results);
}
