{
  TypedProperties typedProperties=TypedProperties.toTypedProperties(properties);
  if (autoConfig()) {
    if (clustering().cacheMode().isDistributed()) {
      IndexOverlay.DISTRIBUTED_INFINISPAN.apply(typedProperties);
    }
 else {
      IndexOverlay.NON_DISTRIBUTED_FS.apply(typedProperties);
    }
  }
  return new IndexingConfiguration(typedProperties,index,autoConfig);
}
