{
  Object k, r;
  V v;
  Entry<?,V> e;
  return ((o instanceof Entry) && (k=(e=(Entry<?,V>)o).getKey()) != null && (r=map.get(k)) != null && (v=e.getValue()) != null && (v == r || map.valueEquivalence.equals(v,r)));
}
