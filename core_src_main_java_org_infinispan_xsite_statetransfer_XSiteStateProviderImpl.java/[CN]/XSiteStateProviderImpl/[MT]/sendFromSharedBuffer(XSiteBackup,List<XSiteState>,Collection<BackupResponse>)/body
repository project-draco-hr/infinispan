{
  if (sharedBuffer.size() == 0) {
    return;
  }
  XSiteState[] privateBuffer=sharedBuffer.toArray(new XSiteState[sharedBuffer.size()]);
  if (debug) {
    log.debugf("Sending chunk to site '%s'. Chunk has %s keys.",xSiteBackup.getSiteName(),privateBuffer.length);
  }
 else   if (trace) {
    log.debugf("Sending chunk to site '%s'. Chunk contains %s",xSiteBackup.getSiteName(),Arrays.toString(privateBuffer));
  }
  XSiteStatePushCommand command=commandsFactory.buildXSiteStatePushCommand(privateBuffer);
  responses.add(invokeRemotelyInRemoteSite(command,xSiteBackup));
}
