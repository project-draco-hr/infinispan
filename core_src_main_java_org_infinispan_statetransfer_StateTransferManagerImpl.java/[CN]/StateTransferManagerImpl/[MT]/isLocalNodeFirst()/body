{
  CacheTopology cacheTopology=stateConsumer.getCacheTopology();
  if (cacheTopology == null || cacheTopology.getMembers().isEmpty()) {
    throw new IllegalStateException("Can only check if the local node is the first to join after joining");
  }
  return cacheTopology.getMembers().get(0).equals(rpcManager.getAddress());
}
