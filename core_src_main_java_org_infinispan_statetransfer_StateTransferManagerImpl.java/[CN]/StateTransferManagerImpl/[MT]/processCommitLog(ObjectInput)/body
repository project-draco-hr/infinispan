{
  if (trace)   log.trace("Applying commit log");
  Object object=marshaller.objectFromObjectStream(oi);
  while (object instanceof TransactionLog.LogEntry) {
    WriteCommand[] mods=((TransactionLog.LogEntry)object).getModifications();
    if (trace)     log.trace("Mods = {0}",Arrays.toString(mods));
    for (    WriteCommand mod : mods) {
      commandsFactory.initializeReplicableCommand(mod);
      InvocationContext ctx=invocationContextContainer.get();
      ctx.setOriginLocal(false);
      ctx.setFlags(Flag.CACHE_MODE_LOCAL,Flag.SKIP_CACHE_STATUS_CHECK);
      interceptorChain.invoke(ctx,mod);
    }
    object=marshaller.objectFromObjectStream(oi);
  }
  assertDelimited(object);
  if (trace)   log.trace("Finished applying commit log");
}
