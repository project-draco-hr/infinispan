{
  try {
    localTopologyManager.leave(cacheName);
    stateProvider.shutdown();
    stateConsumer.shutdown();
  }
 catch (  Throwable e) {
    log.errorf(e,"Failed to stop StateTransferManager of cache %s on node %s",cacheName,rpcManager.getAddress());
  }
}
